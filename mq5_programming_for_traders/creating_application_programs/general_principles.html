<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MQL 程序的执行一般原则 | 专业投机策略</title>
    <meta name="description" content="迎接新的时代">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.CoTmbk_w.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.Do14FuX1.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.BZY42Q0N.js">
    <link rel="modulepreload" href="/assets/chunks/framework.b7dag8kZ.js">
    <link rel="modulepreload" href="/assets/mq5_programming_for_traders_creating_application_programs_general_principles.md.CecaAjsK.lean.js">
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="icon" type="image/svg+xml" href="/logo.svg">
    <link rel="alternate" type="application/rss+xml" href="/blog.rss">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&amp;family=Manrope:wght@600&amp;family=IBM+Plex+Mono:wght@400&amp;display=swap" as="style">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&amp;family=Manrope:wght@600&amp;family=IBM+Plex+Mono:wght@400&amp;display=swap">
    <link rel="me" href="https://m.webtoo.ls/@vite">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://vite.dev/og-image.jpg">
    <meta property="og:url" content="https://vite.dev">
    <meta property="og:description" content="Next Generation Frontend Tooling">
    <meta property="og:site_name" content="vitejs">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@vite_js">
    <meta name="theme-color" content="#646cff">
    <script src="https://cdn.usefathom.com/script.js" data-site="TPLGJZGR" data-spa="auto" defer></script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <link rel="canonical" href="https://vite.dev/mq5_programming_for_traders/creating_application_programs/general_principles">
    <meta property="og:title" content="MQL 程序的执行一般原则">
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-e8cbffd7><!--[--><!--]--><!--[--><span tabindex="-1" data-v-4e586869></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-4e586869>Skip to content</a><!--]--><!----><header class="VPNav" data-v-e8cbffd7 data-v-7a0b7e8a><div class="VPNavBar" data-v-7a0b7e8a data-v-357046c4><div class="wrapper" data-v-357046c4><div class="container" data-v-357046c4><div class="title" data-v-357046c4><div class="VPNavBarTitle has-sidebar" data-v-357046c4 data-v-c0b09a5e><a class="title" href="/" data-v-c0b09a5e><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.svg" alt data-v-7d39a773><!--]--><span data-v-c0b09a5e>专业投机策略</span><!--[--><!--]--></a></div></div><div class="content" data-v-357046c4><div class="content-body" data-v-357046c4><!--[--><!--]--><div class="VPNavBarSearch search" data-v-357046c4><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-357046c4 data-v-a8ff5a32><span id="main-nav-aria-label" class="visually-hidden" data-v-a8ff5a32> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/strategy_square/" tabindex="0" data-v-a8ff5a32 data-v-25d839e6><!--[--><span data-v-25d839e6>策略广场</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-a8ff5a32 data-v-00041c6c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-00041c6c><span class="text" data-v-00041c6c><!----><span data-v-00041c6c>外盘策略</span><span class="vpi-chevron-down text-icon" data-v-00041c6c></span></span></button><div class="menu" data-v-00041c6c><div class="VPMenu" data-v-00041c6c data-v-64b59e26><div class="items" data-v-64b59e26><!--[--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/mt5_strategy/trend_follow/" data-v-06756f99><!--[--><span data-v-06756f99>趋势跟踪</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/mt5_strategy/martingale/" data-v-06756f99><!--[--><span data-v-06756f99>马丁格尔</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/mt5_strategy/frequency_trading/" data-v-06756f99><!--[--><span data-v-06756f99>高频交易</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-a8ff5a32 data-v-00041c6c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-00041c6c><span class="text" data-v-00041c6c><!----><span data-v-00041c6c>MT5编辑器</span><span class="vpi-chevron-down text-icon" data-v-00041c6c></span></span></button><div class="menu" data-v-00041c6c><div class="VPMenu" data-v-00041c6c data-v-64b59e26><div class="items" data-v-64b59e26><!--[--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/metaeditor/welcome/" data-v-06756f99><!--[--><span data-v-06756f99>欢迎来到算法交易</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/metaeditor/main_menu/" data-v-06756f99><!--[--><span data-v-06756f99>主菜单</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/metaeditor/toolbar/" data-v-06756f99><!--[--><span data-v-06756f99>工具栏</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/metaeditor/workspace/" data-v-06756f99><!--[--><span data-v-06756f99>工作区</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/metaeditor/mql5storage/" data-v-06756f99><!--[--><span data-v-06756f99>MQL5存储</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/metaeditor/mql5_wizard/" data-v-06756f99><!--[--><span data-v-06756f99>MQL4/MQL5 向导</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/metaeditor/development/" data-v-06756f99><!--[--><span data-v-06756f99>开发程序</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/metaeditor/other/" data-v-06756f99><!--[--><span data-v-06756f99>其它</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-a8ff5a32 data-v-00041c6c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-00041c6c><span class="text" data-v-00041c6c><!----><span data-v-00041c6c>MQL5快速入门</span><span class="vpi-chevron-down text-icon" data-v-00041c6c></span></span></button><div class="menu" data-v-00041c6c><div class="VPMenu" data-v-00041c6c data-v-64b59e26><div class="items" data-v-64b59e26><!--[--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/mt5_quick_start/welcome/" data-v-06756f99><!--[--><span data-v-06756f99>初步认识</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/mt5_quick_start/basic_grammar/" data-v-06756f99><!--[--><span data-v-06756f99>基础语法</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/mt5_quick_start/first_real_ea/" data-v-06756f99><!--[--><span data-v-06756f99>第一个EA</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/mt5_quick_start/advance_konwledge/" data-v-06756f99><!--[--><span data-v-06756f99>进阶知识</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/mt5_quick_start/classic_strategy/" data-v-06756f99><!--[--><span data-v-06756f99>经典策略</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/mt5_quick_start/indicator_tools/" data-v-06756f99><!--[--><span data-v-06756f99>指标工具</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-a8ff5a32 data-v-00041c6c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-00041c6c><span class="text" data-v-00041c6c><!----><span data-v-00041c6c>MQL5官方教程</span><span class="vpi-chevron-down text-icon" data-v-00041c6c></span></span></button><div class="menu" data-v-00041c6c><div class="VPMenu" data-v-00041c6c data-v-64b59e26><div class="items" data-v-64b59e26><!--[--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/mq5_programming_for_traders/welcome/" data-v-06756f99><!--[--><span data-v-06756f99>开始</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/mq5_programming_for_traders/mql5_programming_fundamentals/" data-v-06756f99><!--[--><span data-v-06756f99>MQL5编程基础</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/mq5_programming_for_traders/object_oriented_programming/" data-v-06756f99><!--[--><span data-v-06756f99>面向对象</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/mq5_programming_for_traders/common_mql5_apis/" data-v-06756f99><!--[--><span data-v-06756f99>常用API</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/mq5_programming_for_traders/creating_application_programs/" data-v-06756f99><!--[--><span data-v-06756f99>在 MQL5 中创建应用程序</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/mq5_programming_for_traders/trading_automation/" data-v-06756f99><!--[--><span data-v-06756f99>交易自动化</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-64b59e26 data-v-06756f99><a class="VPLink link" href="/mq5_programming_for_traders/advanced_language_tools/" data-v-06756f99><!--[--><span data-v-06756f99>MQL5高级工具</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/article/" tabindex="0" data-v-a8ff5a32 data-v-25d839e6><!--[--><span data-v-25d839e6>经典文章</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/about/" tabindex="0" data-v-a8ff5a32 data-v-25d839e6><!--[--><span data-v-25d839e6>关于我</span><!--]--></a><!--]--><!--]--></nav><!----><!----><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-357046c4 data-v-a318d133 data-v-43df44de><!--[--><a class="VPSocialLink no-icon" href="https://www.douyin.com/user/MS4wLjABAAAAVb-2dWdStZkPrNrzAGkHhhquMun5zaNAUsNPN166PCA" aria-label="tiktok" target="_blank" rel="noopener" data-v-43df44de data-v-b3f2150c><span class="vpi-social-tiktok"></span></a><a class="VPSocialLink no-icon" href="https://space.bilibili.com/485926738" aria-label="bilibili" target="_blank" rel="noopener" data-v-43df44de data-v-b3f2150c><span class="vpi-social-bilibili"></span></a><a class="VPSocialLink no-icon" href="https://mp.weixin.qq.com/s/ZygbW2MwCtUQfEvXqYS1vA" aria-label="wechat" target="_blank" rel="noopener" data-v-43df44de data-v-b3f2150c><span class="vpi-social-wechat"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-357046c4 data-v-72eb2fc7 data-v-00041c6c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-00041c6c><span class="vpi-more-horizontal icon" data-v-00041c6c></span></button><div class="menu" data-v-00041c6c><div class="VPMenu" data-v-00041c6c data-v-64b59e26><!----><!--[--><!--[--><!----><!----><div class="group" data-v-72eb2fc7><div class="item social-links" data-v-72eb2fc7><div class="VPSocialLinks social-links-list" data-v-72eb2fc7 data-v-43df44de><!--[--><a class="VPSocialLink no-icon" href="https://www.douyin.com/user/MS4wLjABAAAAVb-2dWdStZkPrNrzAGkHhhquMun5zaNAUsNPN166PCA" aria-label="tiktok" target="_blank" rel="noopener" data-v-43df44de data-v-b3f2150c><span class="vpi-social-tiktok"></span></a><a class="VPSocialLink no-icon" href="https://space.bilibili.com/485926738" aria-label="bilibili" target="_blank" rel="noopener" data-v-43df44de data-v-b3f2150c><span class="vpi-social-bilibili"></span></a><a class="VPSocialLink no-icon" href="https://mp.weixin.qq.com/s/ZygbW2MwCtUQfEvXqYS1vA" aria-label="wechat" target="_blank" rel="noopener" data-v-43df44de data-v-b3f2150c><span class="vpi-social-wechat"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-357046c4 data-v-5440f226><span class="container" data-v-5440f226><span class="top" data-v-5440f226></span><span class="middle" data-v-5440f226></span><span class="bottom" data-v-5440f226></span></span></button></div></div></div></div><div class="divider" data-v-357046c4><div class="divider-line" data-v-357046c4></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-e8cbffd7 data-v-315e22c6><div class="container" data-v-315e22c6><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-315e22c6><span class="vpi-align-left menu-icon" data-v-315e22c6></span><span class="menu-text" data-v-315e22c6>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-315e22c6 data-v-41946b35><button data-v-41946b35>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-e8cbffd7 data-v-2381695a><div class="curtain" data-v-2381695a></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-2381695a><span class="visually-hidden" id="sidebar-aria-label" data-v-2381695a> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-54ab8e9b><section class="VPSidebarItem level-0" data-v-54ab8e9b data-v-0221ad41><div class="item" role="button" tabindex="0" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><h2 class="text" data-v-0221ad41>开始</h2><!----></div><div class="items" data-v-0221ad41><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/welcome/" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>大纲</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/welcome/introduction_to_mql5" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>简介</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/welcome/editing_compiling_running" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>编辑编译运行</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/welcome/mql_wizard" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>MQL向导</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/welcome/statements" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>语句代码块函数</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/welcome/first_program" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>第一个程序</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/welcome/data_types_and_values" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>数据类型和值</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/welcome/variables_and_identifiers" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>变量和标识符</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/welcome/assignment_and_initialization" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>赋值和初始化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/welcome/data_input" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>数据输入</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/welcome/error_fixing_and_debugging" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>修复错误和调试</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/welcome/data_output" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>数据输出</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/welcome/formatting" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>格式化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/welcome/mini_summary" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>迷你小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-54ab8e9b><section class="VPSidebarItem level-0 collapsible collapsed" data-v-54ab8e9b data-v-0221ad41><div class="item" role="button" tabindex="0" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><h2 class="text" data-v-0221ad41>MQL5编程基础</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0221ad41><span class="vpi-chevron-right caret-icon" data-v-0221ad41></span></div></div><div class="items" data-v-0221ad41><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/mql5_programming_fundamentals/" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>简介</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/mql5_programming_fundamentals/identifiers/" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>标识符</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/mql5_programming_fundamentals/built-in_data_types/" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>内置数据类型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/mql5_programming_fundamentals/variables/" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>变量</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/mql5_programming_fundamentals/arrays/" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>数组</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/mql5_programming_fundamentals/expresssions/" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>表达式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/mql5_programming_fundamentals/type_conversion/" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>类型转换</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/mql5_programming_fundamentals/statements/" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>语句</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/mql5_programming_fundamentals/function/" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>函数</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/mql5_programming_fundamentals/preprocessor/" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>预处理</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-54ab8e9b><section class="VPSidebarItem level-0 collapsible collapsed" data-v-54ab8e9b data-v-0221ad41><div class="item" role="button" tabindex="0" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><h2 class="text" data-v-0221ad41>面向对象</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0221ad41><span class="vpi-chevron-right caret-icon" data-v-0221ad41></span></div></div><div class="items" data-v-0221ad41><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/object_oriented_programming/" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>简介</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/object_oriented_programming/structures_and_unions" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>结构体和联合体</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/object_oriented_programming/classes_and_interfaces" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>类和接口</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/object_oriented_programming/templates" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>模板</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-54ab8e9b><section class="VPSidebarItem level-0 collapsible collapsed" data-v-54ab8e9b data-v-0221ad41><div class="item" role="button" tabindex="0" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><h2 class="text" data-v-0221ad41>常用API</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0221ad41><span class="vpi-chevron-right caret-icon" data-v-0221ad41></span></div></div><div class="items" data-v-0221ad41><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/common_mql5_apis/" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>简介</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/common_mql5_apis/built-in_type_conversions" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>内置类型转换</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/common_mql5_apis/working_with_strings_and_symbols" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>字符串和符号处理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/common_mql5_apis/working_with_arrays" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>数组操作</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/common_mql5_apis/mathematical_functions" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>数学函数</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/common_mql5_apis/working_with_files" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>文件操作</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/common_mql5_apis/client_terminal_global_variables" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>客户端全局变量</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/common_mql5_apis/functions_for_working_with_time" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>时间相关函数</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/common_mql5_apis/user_interaction" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>用户交互</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/common_mql5_apis/mql_program_execution_environment" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>MQL 程序执行环境</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/common_mql5_apis/matrices_and_vectors" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>矩阵和向量</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-54ab8e9b><section class="VPSidebarItem level-0 collapsible collapsed has-active" data-v-54ab8e9b data-v-0221ad41><div class="item" role="button" tabindex="0" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><h2 class="text" data-v-0221ad41>在 MQL5 中创建应用程序</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0221ad41><span class="vpi-chevron-right caret-icon" data-v-0221ad41></span></div></div><div class="items" data-v-0221ad41><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/creating_application_programs/" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>简介</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/creating_application_programs/general_principles" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>一般原则</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/creating_application_programs/script_and_services" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>脚本和服务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/creating_application_programs/timeseries" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>时间序列</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/creating_application_programs/creating_custom_indicators" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>自定义指标</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/creating_application_programs/ready-made-indicators" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>自带指标</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/creating_application_programs/working_with_timer" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>定时器的使用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/creating_application_programs/working_with_charts" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>图表操作</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/creating_application_programs/graphical_objects" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>图表对象</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/creating_application_programs/interactive_events_on_charts" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>图表上的交互式事件</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-54ab8e9b><section class="VPSidebarItem level-0 collapsible collapsed" data-v-54ab8e9b data-v-0221ad41><div class="item" role="button" tabindex="0" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><h2 class="text" data-v-0221ad41>交易自动化</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0221ad41><span class="vpi-chevron-right caret-icon" data-v-0221ad41></span></div></div><div class="items" data-v-0221ad41><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/trading_automation/" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>简介</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/trading_automation/financial_instruments_and_market_watch" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>金融工具与市场报价</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/trading_automation/depth_of_market" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>市场深度</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/trading_automation/trading_account_information" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>交易账户信息</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/trading_automation/createing_expert_advisors" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>创建智能交易顾问</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/trading_automation/testing_and_optimization_of_expert_advisors" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>专家顾问的测试和优化</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-54ab8e9b><section class="VPSidebarItem level-0 collapsible collapsed" data-v-54ab8e9b data-v-0221ad41><div class="item" role="button" tabindex="0" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><h2 class="text" data-v-0221ad41>MQL5高级工具</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0221ad41><span class="vpi-chevron-right caret-icon" data-v-0221ad41></span></div></div><div class="items" data-v-0221ad41><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/advanced_language_tools/" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>简介</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/advanced_language_tools/resources" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>资源</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/advanced_language_tools/custom_symbol" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>自定义交易品种</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/advanced_language_tools/economic_calendar" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>经济日历</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/advanced_language_tools/cryptography" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>密码学</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/advanced_language_tools/network_functions" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>网络函数</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/advanced_language_tools/sqlite_database" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>SQLite 数据库</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/advanced_language_tools/connection_of_binary_format_libraries" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>二进制格式库的开发与连接</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/advanced_language_tools/projects" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>项目</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/advanced_language_tools/native_python_support" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>原生python支持</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/advanced_language_tools/opencl" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>opencl</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0221ad41 data-v-0221ad41><div class="item" data-v-0221ad41><div class="indicator" data-v-0221ad41></div><a class="VPLink link link" href="/mq5_programming_for_traders/advanced_language_tools/conclusion" data-v-0221ad41><!--[--><p class="text" data-v-0221ad41>总结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-e8cbffd7 data-v-41fb371c><div class="VPDoc has-sidebar has-aside" data-v-41fb371c data-v-c23ecb28><!--[--><!--]--><div class="container" data-v-c23ecb28><div class="aside" data-v-c23ecb28><div class="aside-curtain" data-v-c23ecb28></div><div class="aside-container" data-v-c23ecb28><div class="aside-content" data-v-c23ecb28><div class="VPDocAside" data-v-c23ecb28 data-v-296f4c62><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-296f4c62 data-v-e8bc4af3><div class="content" data-v-e8bc4af3><div class="outline-marker" data-v-e8bc4af3></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-e8bc4af3>本页目录</div><ul class="VPDocOutlineItem root" data-v-e8bc4af3 data-v-4326957b><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-296f4c62></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-c23ecb28><div class="content-container" data-v-c23ecb28><!--[--><!--]--><main class="main" data-v-c23ecb28><div style="position:relative;" class="vp-doc _mq5_programming_for_traders_creating_application_programs_general_principles" data-v-c23ecb28><div><h1 id="mql-程序的执行一般原则" tabindex="-1">MQL 程序的执行一般原则 <a class="header-anchor" href="#mql-程序的执行一般原则" aria-label="Permalink to &quot;MQL 程序的执行一般原则&quot;">​</a></h1><p>根据功能和特点的不同，所有 MQL 程序大致可以分为几类。</p><p>大多数程序，比如智能交易系统（EA）、指标和脚本，都是在图表环境中运行的。也就是说，只有在通过导航器树中的“附加到图表”上下文菜单命令，或者从导航器中拖放到图表上，将它们附加到一个打开的图表上之后，这些程序才会开始执行。</p><p>相比之下，服务程序不能放置在图表上，因为它们是为在后台执行长时间的循环操作而设计的。例如，在一个服务程序中，你可以创建一个自定义交易品种，然后获取其数据，并使用网络函数在一个无限循环中不断更新数据。服务程序的另一个合理应用场景是监控交易账户和网络连接，作为向用户通知通信问题的解决方案的一部分。</p><p>需要注意的是，指标和智能交易系统在终端的不同工作会话之间会保存在图表上。换句话说，例如，如果用户在图表上运行了一个指标，然后在没有明确删除它的情况下关闭了 MetaTrader 5，那么下次终端启动时，该指标会连同图表一起恢复，包括其所有设置。</p><p>顺便说一下，将指标和智能交易系统链接到图表是模板（详见文档）的基础。用户可以创建一组要在图表上使用的程序，对它们进行配置，然后将这组程序保存为一个扩展名为 tpl 的特殊文件。这可以通过上下文菜单命令“模板 -&gt; 保存”来完成。之后，你可以将该模板应用到任何新图表上（命令“模板 -&gt; 加载”），并运行所有链接的程序。模板默认存储在 MQL5/Profiles/Templates/ 目录中。</p><p>附加到图表上的另一个结果是，关闭一个图表会导致卸载放置在该图表上的所有 MQL 程序。不过，MetaTrader 5 会以特定的方式保存所有关闭的图表（至少保存一段时间），因此，如果图表是意外关闭的，可以使用“文件 -&gt; 打开远程图表”命令将其连同所有程序（以及图形对象）一起恢复。</p><p>如果由于某种原因终端无法加载图表文件，MQL 程序的整个状态（设置和位置）将会丢失。基本上，这同样适用于图形对象——程序可以根据自身需要添加图形对象，并期望这些对象位于图表上。请对图表进行备份。每个图表都是一个扩展名为 chr 的文件。此类文件默认存储在 MQL5/Profiles/Charts/Default/ 目录中。这是安装平台时创建的标准配置文件。你可以使用菜单命令“文件 -&gt; 配置文件”创建其他配置文件，然后在它们之间进行切换（详见文档）。</p><p>如果有必要，你可以使用上下文菜单命令“智能交易系统列表”（在图表窗口中单击鼠标右键调用）来停止一个智能交易系统，并将其从图表上移除。该命令会打开“智能交易系统”对话框，其中列出了终端中正在运行的所有智能交易系统。在这个列表中，选择一个你不再需要的智能交易系统，然后按下“移除”按钮。</p><p>指标也可以通过类似的上下文菜单命令“指标列表”来明确移除。该命令会打开一个对话框，其中列出了当前图表上正在运行的指标，你可以在其中选择一个特定的指标，然后点击“移除”按钮。此外，大多数指标会在图表上显示各种图形结构，比如线条和柱状图，这些图形结构也可以使用相关的上下文菜单命令删除。</p><p>与指标和智能交易系统不同，脚本不会永久附加到图表上。在标准模式下，如果脚本执行的是一次性操作，那么在分配给它的任务完成后，脚本会自动从图表上移除。如果一个脚本有一个用于周期性重复操作的循环，那么它当然会继续运行，直到以某种方式中断循环，但不会超过会话结束的时间。关闭终端会导致脚本与图表分离。重新启动 MetaTrader 5 后，脚本不会在图表上恢复。</p><p>请注意，如果你将图表切换到另一个交易品种或时间框架，在该图表上运行的脚本将会被卸载。但是指标和智能交易系统会继续运行，不过，它们会被重新初始化。它们的初始化规则是不同的。这些细节将在“各种类型程序的启动和停止特点”部分进行讨论。</p><p>在图表上只能放置一个智能交易系统、一个脚本，但可以放置任意数量的指标。智能交易系统、脚本和所有指标将并行（同时）运行。</p><p>至于服务程序，它们已创建并正在运行的实例在终端加载后会自动恢复。可以使用导航器窗口中“服务程序”部分的上下文菜单来停止或删除服务程序实例。</p><p>下表以总结的形式概述了上述属性：</p><table tabindex="0"><thead><tr><th>程序类型</th><th>与图表的链接</th><th>图表上的数量</th><th>会话恢复情况</th></tr></thead><tbody><tr><td>指标</td><td>必需</td><td>多个</td><td>随图表或模板恢复</td></tr><tr><td>智能交易系统</td><td>必需</td><td>最多 1 个</td><td>随图表或模板恢复</td></tr><tr><td>脚本</td><td>必需</td><td>最多 1 个</td><td>不支持</td></tr><tr><td>服务程序</td><td>不支持</td><td>0 个</td><td>随终端恢复</td></tr></tbody></table><p>所有 MQL 程序都在客户端终端中执行，因此只有在终端打开时才能运行。要想持续通过程序监控账户，请使用虚拟专用服务器（VPS）。</p><h2 id="各类-mql-程序的设计" tabindex="-1">各类 MQL 程序的设计 <a class="header-anchor" href="#各类-mql-程序的设计" aria-label="Permalink to &quot;各类 MQL 程序的设计&quot;">​</a></h2><p>程序类型是 MQL5 中的一个基本属性。与 C++ 或其他通用编程语言不同，在那些语言中任何程序都可以朝着任意方向开发，比如添加图形界面或通过网络从服务器上传数据等，而 MQL 程序则根据其用途被划分为特定的几类。例如，带有可视化功能的技术时间序列分析是通过指标来实现的，但指标无法进行交易。反过来，交易 API 函数可供智能交易系统（EA）使用，但智能交易系统没有指标缓冲区（用于绘制线条的数组）。</p><p>因此，在解决特定的应用问题时，开发者应该将问题分解成多个部分，并且每个部分的功能应与某一特定类型程序的专长相契合。当然，在简单的情况下，一个单一的 MQL 程序就足够了，但有时最优的技术解决方案并不明显。例如，你要如何实现砖形图（Renko chart）的绘制呢：是作为一个指标来实现，还是作为由服务程序生成的自定义交易品种，又或者是直接在交易智能交易系统中进行特定的计算呢？所有这些选择都是有可能的。</p><p>MQL 程序的类型由几个因素来表征。</p><p>首先，每种类型的程序在 MQL5 工作目录中都有一个单独的文件夹。我们在第 1 部分的引言中已经提到过这一事实，并列出了这些文件夹。所以，对于指标、智能交易系统、脚本和服务程序，指定的文件夹分别是 Indicators、Experts、Scripts 和 Services。MQL5 文件夹中的 Libraries 子文件夹是为库文件预留的。在每个文件夹中，你都可以组织任意配置的嵌套文件夹树。</p><p>二进制文件（扩展名为 ex5 的成品程序）—— 这是编译 mq5 文件的结果 —— 与源 mq5 文件在同一目录中生成。不过，我们还应该提到 MetaEditor 中的项目（扩展名为 mqproj 的文件），我们将在“项目”一章中对其进行分析。当开发一个项目时，成品会在项目旁边的一个目录中创建。当在 MetaEditor 中使用 MQL5 向导创建一个程序时（命令“文件 -&gt; 新建”），源文件默认会放置在与程序类型相对应的文件夹中。如果你不小心将一个程序复制到了错误的目录中，也不会有什么严重的后果：它不会，比如说，从一个智能交易系统变成一个指标，反之亦然。你可以直接在编辑器中、在导航器窗口内或者在外部文件管理器中将其移动到期望的位置。在导航器中，每种程序类型都用一个特殊的图标显示。</p><p>一个程序在 MQL5 目录中特定类型子文件夹中的位置，并不能决定这个特定 MQL 程序的类型。程序类型是根据可执行文件的内容来确定的，而可执行文件反过来又是由编译器根据源代码中的属性指令和语句形成的。</p><p>按程序类型划分的文件夹层次结构是为了方便使用。建议遵循这一结构，除非是一组相关的项目（包含不同类型的程序），对于这类项目，将它们存储在一个单独的目录中会更合理。</p><p>其次，每种类型的程序的特点是支持一组有限的、特定的系统事件，这些事件会激活程序。我们将在单独的部分中看到事件处理函数的概述。要在一个程序中接收特定类型的事件，有必要描述一个具有预定义原型（名称、参数列表、返回值）的处理函数。</p><p>例如，我们已经看到在脚本和服务程序中，工作是在 OnStart 函数中开始的，并且由于它是那里唯一的函数，所以它可以被称为主要的“入口点”，终端通过这个入口点将控制权转移到应用程序代码中。在其他类型的程序中，情况会稍微复杂一些。一般来说，我们注意到一种程序类型由一组特定的处理函数来表征，其中一些可能是必需的，而一些是可选的（但同时，对于其他类型的程序来说是不可接受的）。特别是，一个指标需要 OnCalculate 函数（没有它，指标将无法编译，编译器会生成一个错误）。然而，这个函数在智能交易系统中并不使用。</p><p>第三，一些类型的程序需要特殊的 #property 指令。在“程序的一般属性”一章中，我们已经看到了可以在所有类型程序中使用的指令。然而，还有其他一些专门的指令。例如，在我们提到的服务程序任务中，我们遇到了 #property service 指令，它使程序成为一个服务程序。没有它，即使将程序放在 Services 文件夹中，它也无法在后台运行。</p><p>同样，#property library 指令在创建库文件时起着决定性的作用。所有这些指令属性将在相应类型程序的部分中进行讨论。</p><p>在按以下顺序（从上到下，直到找到第一个匹配项）确定 MQL 程序类型时，会考虑指令和事件处理函数的组合：</p><ul><li>指标：存在 OnCalculate 处理函数</li><li>库文件：#property library 指令</li><li>脚本：存在 OnStart 处理函数且不存在 #property service 指令</li><li>服务程序：存在 OnStart 处理函数且有 #property service 指令</li><li>智能交易系统：存在任何其他处理函数</li></ul><p>这些属性对编译器有什么影响的示例将在“事件处理函数概述”部分给出。</p><p>对于上述所有要点，还应该考虑另一点。程序类型是由主要的编译模块决定的：一个扩展名为 mq5 的文件，在这个文件中可以使用 #include 指令包含来自其他目录的其他源文件。以这种方式包含的所有函数与直接存在于主 mq5 文件中的函数处于同一级别进行考虑。</p><p>另一方面，#property 指令只有放在主编译 mq5 文件中时才会起作用。如果这些指令出现在使用 #include 包含在程序中的文件中，它们将被忽略。</p><p>主 mq5 文件实际上并不一定要包含事件处理函数。将部分或全部算法放在 mqh 头文件中，然后将它们包含在一个或多个程序中是完全可以接受的。例如，我们可以在一个 mqh 文件中实现带有一组有用操作的 OnStart 处理函数，并通过 #include 在两个单独的程序（一个脚本和一个服务程序）中使用它。</p><p>同时，我们要注意，将通用的算法片段分离到头文件中的动机并不只是因为存在通用的事件处理函数。例如，你可以在一个指标和一个智能交易系统中使用相同的计算公式，而将它们的事件处理函数留在主程序模块中。</p><p>虽然习惯上把包含文件称为头文件并给它们 mqh 扩展名，但从技术上讲这并不是必需的。在一个 mq5 文件中包含另一个 mq5 文件或者，比如说，一个 txt 文件也是完全可以接受的（尽管不推荐）。它们可能包含一些旧代码，或者可以说，用常量对某些数组进行初始化。包含另一个 mq5 文件并不会使它成为主文件。</p><p>你应该确保只有特定程序类型所特有的事件处理函数进入程序，并且这些函数之间没有重复（如你所知，函数是通过名称和参数列表的组合来识别的：只有当参数集不同时才允许函数重载）。这通常是通过使用各种预处理器指令来实现的。例如，在我们的某个程序中包含一个第三方 mq5 脚本文件之前，定义宏 #define OnStart OnStartPrevious，我们实际上会将其中描述的 OnStart 函数变成 OnStartPrevious，并且我们可以从自己的事件处理函数中像往常一样调用它。</p><p>然而，只有在由于某些原因无法修改所包含的 mq5 文件的源代码的特殊情况下，这种方法才有意义，特别是当无法通过将感兴趣的算法选择到单独头文件中的函数或类中来对其进行结构化时。</p><p>根据与用户的交互原则，MQL 程序可以分为交互式和实用型两类。</p><p>交互式程序 —— 指标和智能交易系统 —— 可以处理在软件环境中因用户操作而产生的事件，比如按下键盘上的按钮、移动鼠标、改变窗口大小，以及许多其他事件，例如与接收报价数据或定时器操作相关的事件。</p><p>实用型程序 —— 服务程序和脚本 —— 只根据在启动时设置的输入变量运行，并且不对系统中的事件做出响应。</p><p>除了所有这些类型的程序之外，还有库文件。它们总是作为另一种类型的 MQL 程序（四种主要类型之一）的一部分来执行，因此没有任何独特的特征或行为。特别是，它们不能直接从终端接收事件，也没有自己的线程（见下一部分）。同一个库文件可以连接到许多程序，并且这种连接是在每个父程序启动时动态发生的。在关于库文件的部分中，我们将学习如何描述库文件的导出 API 并将其导入到父程序中。</p><h2 id="线程" tabindex="-1">线程 <a class="header-anchor" href="#线程" aria-label="Permalink to &quot;线程&quot;">​</a></h2><p>简单来说，一个程序可以被看作是开发者为计算机编写的一系列语句。计算机中执行语句的主要部件是中央处理器。现代计算机通常配备有多核处理器，这相当于拥有多个处理器。然而，用户可能希望并行运行的程序数量实际上是没有限制的。因此，程序的数量总是比可用的核心/处理器数量多很多倍。正因为如此，每个核心实际上会在几个不同的程序之间分配其工作时间：它会分配1毫秒来执行一个程序的语句，然后再分配1毫秒给另一个程序的语句，接着是第三个程序，依此类推，循环往复。由于这种切换发生得非常快，用户并不会察觉到，感觉所有程序似乎都是并行且同时执行的。</p><p>为了使处理器能够暂停一个程序语句的执行，然后从之前的位置继续执行（在它悄然切换去执行其他“并行”程序的语句之后），它必须能够以某种方式保存和恢复每个程序的中间状态：当前的语句、变量，可能还有打开的文件、网络连接等等。程序正常运行所需的所有这些资源和数据的集合，以及它在语句序列中的当前位置，被称为程序的执行上下文。实际上，操作系统的设计目的就是根据用户（或其他程序）的请求为每个程序创建这样的上下文。每个这样的活动上下文被称为一个线程。许多程序自身需要多个线程，因为它们的功能涉及并行维持多项活动。MetaTrader 5 也需要多个线程来加载多个交易品种的报价数据、绘制图表以及响应用户操作。此外，MQL 程序也会被分配单独的线程。</p><p>MQL 程序执行环境为每个程序分配的线程不超过一个。智能交易系统（EA）、脚本和服务程序每个都严格分配一个线程。至于指标，对于在一种金融工具上运行的所有指标会分配一个线程。而且，同一个线程负责显示相应交易品种的图表，所以不建议用繁重的计算占用这个线程。否则，用户界面将变得无响应：用户的操作会被延迟处理，甚至窗口会变得毫无反应。所有其他类型的 MQL 程序的线程并不与界面绑定，因此可以让处理器承担任何复杂的任务。</p><p>线程的一个重要属性源于它的定义和用途：它只支持按顺序一个接一个地执行指定的语句。在一个线程中，同一时间只能执行一条语句。如果在程序中编写了一个无限循环，线程就会卡在这条指令上，永远无法执行其下面的指令。长时间的计算也会产生类似无限循环的效果：它们会占用处理器资源，阻止执行用户可能期望得到结果的其他操作。这就是为什么指标中的高效计算对于图形界面的顺畅运行很重要。</p><p>然而，在其他类型的 MQL 程序中，应该注意线程的安排。在接下来的部分中，我们将熟悉作为 MQL 程序入口点的特殊事件处理函数。单线程模型意味着在处理一个事件的过程中，程序对可能同时发生的其他事件是无感知的。因此，终端会为每个程序组织一个事件队列。我们将在下一部分更详细地讨论这一点。</p><p>为了在实践中体验单线程的影响，我们将在“指标的局限性和优势”部分（IndBarIndex.mq5）看一个简单的例子。我们选择指标来举例是因为它们不仅每个交易品种共享一个线程，而且还直接在图表上显示结果，这使得潜在的问题最为明显。</p><h2 id="事件处理函数概述" tabindex="-1">事件处理函数概述 <a class="header-anchor" href="#事件处理函数概述" aria-label="Permalink to &quot;事件处理函数概述&quot;">​</a></h2><p>将控制权转移给 MQL 程序（即程序的执行）是通过终端或测试代理调用特殊函数来实现的，MQL 开发者在其应用代码中定义这些特殊函数以处理预定义的事件。这类函数必须具有指定的原型，包括函数名、参数列表（参数的数量、类型和顺序）以及返回类型。</p><p>每个函数的名称都与事件的含义相对应，并加上前缀“On”。例如，OnStart 是脚本和服务程序“启动”的主函数；当脚本被放置到图表上或服务程序实例启动时，终端会调用该函数。</p><p>在本书中，我们将用相同的名称来指代一个事件及其相应的处理函数。</p><p>下表列出了所有的事件类型以及支持这些事件的程序（indicator_small 表示指标，expert_small 表示智能交易系统，script_small 表示脚本，services_small 表示服务程序）。关于这些事件的详细描述在相应程序类型的部分给出。许多因素都可能导致初始化和反初始化事件的发生：将程序放置到图表上、更改其设置、更改图表的交易品种/时间框架（或模板、配置文件）、更改账户等等（详见“各类程序的启动和停止特点”一章）。</p><table tabindex="0"><thead><tr><th>程序类型</th><th>事件/处理函数</th><th>指标</th><th>智能交易系统</th><th>脚本</th><th>服务程序</th><th>描述</th></tr></thead><tbody><tr><td></td><td>OnStart</td><td>-</td><td>-</td><td>●</td><td>●</td><td>启动/执行</td></tr><tr><td></td><td>OnInit</td><td>+</td><td>+</td><td>-</td><td>-</td><td>加载后的初始化（详见“各类程序的启动和停止特点”部分）</td></tr><tr><td></td><td>OnDeinit</td><td>+</td><td>+</td><td>-</td><td>-</td><td>停止和卸载前的反初始化</td></tr><tr><td></td><td>OnTick</td><td>-</td><td>+</td><td>-</td><td>-</td><td>获得新的价格（报价）</td></tr><tr><td></td><td>OnCalculate</td><td>●</td><td>-</td><td>-</td><td>-</td><td>由于收到新价格或同步旧价格而请求重新计算指标</td></tr><tr><td></td><td>OnTimer</td><td>+</td><td>+</td><td>-</td><td>-</td><td>以指定频率激活定时器</td></tr><tr><td></td><td>OnTrade</td><td>-</td><td>+</td><td>-</td><td>-</td><td>服务器上交易操作完成</td></tr><tr><td></td><td>OnTradeTransaction</td><td>-</td><td>+</td><td>-</td><td>-</td><td>交易账户状态（订单、交易、头寸）改变</td></tr><tr><td></td><td>OnBookEvent</td><td>+</td><td>+</td><td>-</td><td>-</td><td>订单簿变化</td></tr><tr><td></td><td>OnChartEvent</td><td>+</td><td>+</td><td>-</td><td>-</td><td>用户或 MQL 程序在图表上的操作</td></tr><tr><td></td><td>OnTester</td><td>-</td><td>+</td><td>-</td><td>-</td><td>单次测试通过结束</td></tr><tr><td></td><td>OnTesterInit</td><td>-</td><td>+</td><td>-</td><td>-</td><td>优化前的初始化</td></tr><tr><td></td><td>OnTesterDeinit</td><td>-</td><td>+</td><td>-</td><td>-</td><td>优化后的反初始化</td></tr><tr><td></td><td>OnTesterPass</td><td>-</td><td>+</td><td>-</td><td>-</td><td>从测试代理接收优化数据</td></tr></tbody></table><p>必需的处理函数用符号“●”标记，可选的处理函数用符号“+”标记。</p><p>虽然处理函数主要是为了由运行时调用，但你也可以从自己的源代码中调用它们。例如，如果一个智能交易系统在启动后需要立即根据可用的报价进行一些计算，甚至在没有报价数据（比如在周末）的情况下也需要计算，你可以在离开 OnInit 函数之前调用 OnTick 函数。或者，将计算分离到一个单独的函数中，并从 OnInit 和 OnTick 函数中都调用它，这也是合理的做法。然而，最好快速完成初始化函数的工作，如果计算过程较长，应该在定时器上执行。</p><p>所有 MQL 程序（库文件除外）必须至少有一个事件处理函数。否则，编译器会生成“未找到事件处理函数”的错误。</p><p>在没有设置其他类型的 #property 指令的情况下，某些处理函数的存在决定了程序的类型。例如，有 OnCalculate 处理函数会生成一个指标（即使它位于其他文件夹中，比如脚本或智能交易系统文件夹）。有 OnStart 处理函数（如果没有 OnCalculate 处理函数）意味着创建一个脚本。同时，如果一个指标除了 OnCalculate 处理函数之外还有 OnStart 处理函数，我们会得到编译器警告“在非脚本程序中定义了 OnStart 函数”。</p><p>本书包含两个文件：AllInOne.mq5 和 AllInOne.mqh。头文件描述了几乎为空的所有主要事件处理函数的模板。它们除了将处理函数的名称输出到日志中外，不包含其他内容。我们将在关于特定类型 MQL 程序的部分中考虑每个处理函数的语法和使用细节。这个文件的意义在于提供一个实验平台，根据某些处理函数和属性指令（#property）的存在来编译不同类型的程序。</p><p>某些组合可能会导致错误或警告。</p><p>如果编译成功，那么在加载生成的程序后，会自动记录其程序类型，使用以下代码行：</p><div class="language-c++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c++</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> string type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   PRTF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">EnumToString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((ENUM_PROGRAM_TYPE)</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MQLInfoInteger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MQL_PROGRAM_TYPE)));</span></span></code></pre></div><p>我们在“程序类型和许可证”部分学习了枚举类型 ENUM_PROGRAM_TYPE 和函数 MQLInfoInteger。</p><p>包含 AllInOne.mqh 的文件 AllInOne.mq5 最初位于目录 MQL5Book/Scripts/p5/ 中，但它可以被复制到任何其他文件夹，包括导航器的相邻分支（例如，复制到智能交易系统或指标的文件夹中）。在文件内部的注释中，留下了连接某些程序组装配置的选项。默认情况下，如果不编辑该文件，你将得到一个智能交易系统。</p><div class="language-c++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c++</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//+------------------------------------------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//| 取消注释以下行以得到服务程序</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//| 注意：还需激活 #define _OnStart OnStart</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//+------------------------------------------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//#property service</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//+------------------------------------------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//| 取消注释以下行以得到库文件</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//+------------------------------------------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//#property library</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//+------------------------------------------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//| 取消注释以下行以得到脚本或</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//| 服务程序（必须启用 #property service）</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//+------------------------------------------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//#define _OnStart OnStart</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//+------------------------------------------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//| 取消注释以下两行之一以得到指标</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//+------------------------------------------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//#define _OnCalculate1 OnCalculate</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//#define _OnCalculate2 OnCalculate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;MQL5Book/AllInOne.mqh&gt;</span></span></code></pre></div><p>如果我们将程序附加到图表上，我们将在日志中得到一条记录：</p><div class="language-c++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c++</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">EnumToString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((ENUM_PROGRAM_TYPE)</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MQLInfoInteger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MQL_PROGRAM_TYPE))</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PROGRAM_EXPERT </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ok</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OnInit</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OnChartEvent</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OnTick</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OnTick</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OnTick</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">...</span></span></code></pre></div><p>此外，如果市场开盘，很可能会从 OnTick 处理函数生成一系列记录。</p><p>如果你用不同的名称复制 mq5 文件，例如，取消注释指令 #property service，编译器将生成服务程序，但会返回一些警告。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>no OnStart function defined in the script</span></span>
<span class="line"><span>OnInit function is useless for scripts</span></span>
<span class="line"><span>OnDeinit function is useless for scripts</span></span></code></pre></div><p>其中第一条关于缺少 OnStart 函数的警告实际上很重要，因为当创建一个服务程序实例时，其中不会调用任何函数，而只会初始化全局变量。然而，由于这个原因，日志（终端中的“智能交易系统”选项卡）仍然会打印出 PROGRAM_SERVICE 类型。但通常情况下，在服务程序以及脚本中，都假定存在 OnStart 函数。</p><p>另外两条警告是因为我们的头文件包含了所有情况下的处理函数，编译器提醒我们 OnInit 和 OnDeinit 是无意义的（终端不会调用它们，甚至不会将它们包含在程序的二进制镜像中）。当然，在实际程序中不应该出现这样的警告，也就是说，所有的处理函数都应该被用到，并且应该从源代码中物理或逻辑地删除所有多余的内容，使用预处理器指令进行条件编译。</p><p>如果你再创建一个 AllInOne.mq5 的副本，不仅激活 #property service 指令，还激活 #define _OnStart OnStart 宏，编译后你将得到一个完全可用的服务程序。启动时，它不仅会显示其类型名称，还会显示触发的处理函数 OnStart 的名称。</p><p>需要这个宏是为了能够根据需要启用/禁用标准处理函数 OnStart。在 AllInOne.mqh 文本中，这个函数描述如下：</p><div class="language-c++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c++</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> _OnStart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // “额外”的下划线使该函数为自定义函数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   Print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">__FUNCTION__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>以下划线开头的名称使其不是标准的处理函数，而只是一个具有类似原型的用户定义函数。当我们包含一个宏时，在编译期间编译器会将 _OnStart 替换为 OnStart，结果就变成了一个标准的处理函数。如果我们直接命名为 OnStart 函数，那么根据确定 MQL 程序类型的特征优先级（详见“各类 MQL 程序的特点”部分），就无法得到一个智能交易系统模板（因为 OnStart 会将程序识别为脚本或服务程序）。</p><p>类似地，使用宏 _OnCalculate1 或 _OnCalculate2 进行自定义编译，是为了可以选择“隐藏”具有标准名称 OnCalculate 的处理函数：否则，如果它存在，我们总是会得到一个指标。</p><p>如果在程序的下一个副本中激活宏 #define _OnCalculate1 OnCalculate，你将得到一个指标示例（尽管它是空的，什么也不做）。正如我们稍后将看到的，对于指标来说，OnCalculate 处理函数有两种不同的形式，因此它们以编号名称（_OnCalculate1 和 _OnCalculate2）呈现。如果你在图表上运行这个指标，你可以在日志中看到 OnCalculate 事件（在报价数据到达时）和 OnChartEvent 事件（例如，鼠标点击时）的名称。</p><p>编译指标时，编译器会生成两条警告：</p><div class="language-c++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c++</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">no indicator window property is defined, indicator_chart_window is applied</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">no indicator plot defined </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> indicator</span></span></code></pre></div><p>这是因为指标作为数据可视化工具，在其代码中需要一些特定的设置，而这里没有这些设置。在对不同类型程序的初步了解阶段，这并不重要。但在接下来的内容中，我们将学习如何在指标中描述它们的属性和数组，这些属性和数组决定了在图表上应该可视化什么以及如何可视化。然后这些警告就会消失。</p><h3 id="事件队列" tabindex="-1">事件队列 <a class="header-anchor" href="#事件队列" aria-label="Permalink to &quot;事件队列&quot;">​</a></h3><p>当一个新事件发生时，它必须被传送到在相应图表上运行的所有 MQL 程序。由于 MQL 程序的单线程执行模型（详见“线程”部分），可能会出现当下一个事件到达时，前一个事件仍在处理中的情况。对于这种情况，终端会为每个交互式 MQL 程序维护一个事件队列。其中的所有事件会按照接收顺序依次处理。</p><p>事件队列的大小是有限的。因此，编写不合理的程序可能会由于操作缓慢而导致其队列溢出。队列溢出时，新事件将被丢弃，不会进入队列。</p><p>不能足够快地处理事件会对用户体验或数据质量产生负面影响（想象一下你记录市场深度变化却跳过了几条消息）。为了解决这个问题，你可以寻找更高效的算法，或者使用几个相互连接的 MQL 程序并行运行（例如，将计算任务分配给一个指标，而智能交易系统只读取现成的数据）。</p><p>应该记住，终端不会将所有事件都放入队列，而是有选择地进行操作。某些类型的事件是根据“队列中同类型事件不超过一个”的原则进行处理的。例如，如果队列中已经有 OnTick 事件，或者正在处理 OnTick 事件，那么新的 OnTick 事件不会进入队列。如果队列中已经有 OnTimer 事件或图表更改事件，那么这些类型的新事件也会被丢弃（忽略）。这里说的是特定的程序实例。其他不那么“繁忙”的程序将接收这条消息。</p><p>我们不提供这类事件类型的完整列表，因为通过跳过“重叠”事件进行的这种优化可能会被终端开发者更改。</p><p>组织程序响应传入事件的工作方式被称为事件驱动。它也可以被称为异步的，因为事件在程序队列中的入队和出队（以及处理）发生在不同的时刻（理想情况下，间隔极小，但理想情况并不总是能够实现）。然而，在四种类型的 MQL 程序中，只有指标和智能交易系统完全遵循这种方式。脚本和服务程序实际上只有主函数，当调用主函数时，它必须要么快速执行所需的操作并完成，要么启动一个无限循环以维持某些活动（例如，从网络读取数据），直到用户停止。我们已经看到了这样的循环示例：</p><div class="language-c++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c++</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IsStopped</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  useful code</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   ...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   Sleep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(...);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>在这样的循环中，重要的是不要忘记以一定的周期使用 Sleep 函数，以便与其他程序共享 CPU 资源。周期值是根据所实现活动的估计强度来选择的。</p><p>这种方法可以称为循环的或同步的，甚至可以称为实时的，因为你可以选择睡眠周期来提供恒定的数据处理频率，例如：</p><div class="language-c++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c++</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rhythm </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 100 毫秒，每秒 10 次</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IsStopped</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">   const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> start </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GetTickCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  useful code</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   ...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   Sleep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rhythm </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GetTickCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> start));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>当然，“有用的代码”必须在规定的时间内完成。</p><p>相比之下，使用事件驱动的方法时，无法提前知道下一次代码片段（处理函数）何时会运行。例如，在快速变化的市场中，在新闻发布期间，报价数据可能会成批到来，而在夜间可能会有整整几秒都没有报价数据。在极端情况下，周五晚上最后一次报价数据之后，某些金融工具的下一次价格变化可能要到周一早上才会广播，因此 OnTick 事件会有两天都不会出现。换句话说，在事件（以及事件处理函数的激活时刻）中没有规律性，没有明确的时间表。</p><p>但如果有必要，你可以将两种方式结合起来。特别是，定时器事件（OnTimer）提供了规律性，开发者可以在循环中定期为图表生成自定义事件（例如，闪烁警告标签）。</p><h2 id="各类程序的启动和停止特点" tabindex="-1">各类程序的启动和停止特点 <a class="header-anchor" href="#各类程序的启动和停止特点" aria-label="Permalink to &quot;各类程序的启动和停止特点&quot;">​</a></h2><p>在编程中，“初始化”这个术语在许多不同的上下文中被使用。在 MQL5 中，它也存在一些模糊性。在“初始化”部分，我们已经用这个词来表示设置变量的初始值。然后我们讨论了指标和智能交易系统中的初始化事件 OnInit。尽管这两种初始化的含义相似（使程序进入工作状态），但它们实际上意味着为启动 MQL 程序做准备的不同阶段：系统层面和应用层面。</p><p>一个已完成的 MQL 程序的生命周期可以由以下主要步骤来表示：</p><ol><li><strong>加载</strong>：将程序从文件读取到终端的内存中，这包括指令、预定义的数据（字面量）、资源和库文件。这就是 #property 指令发挥作用的地方。</li><li><strong>为全局变量分配内存并设置其初始值</strong>：这是由运行时执行的系统初始化。回想一下，在“初始化”部分，当我们逐步在调试器下研究程序的启动时，我们看到栈上有 @global_initializations 条目。这就是这个步骤的代码块，它是由编译器隐式创建的。如果程序使用类/结构的全局对象，它们的构造函数将在这个阶段被调用。</li><li><strong>调用 OnInit 事件处理函数（如果存在）</strong>：它执行更高级别的应用初始化，因此每个程序根据需要独立执行此操作。例如，它可以为对象数组进行动态内存分配，由于某种原因，对于这些对象数组，你需要使用参数化构造函数而不是默认构造函数。如我们所知，为数组自动分配内存时只使用默认构造函数，因此它们不能在前一步（步骤 2）中进行初始化。它也可以是打开文件、调用内置的 API 函数以启用必要的图表模式等等。</li><li><strong>一个循环，直到用户关闭程序或终端，或者执行任何其他需要重新初始化的操作（见下文）</strong>：当相应的事件发生时，调用其他处理函数。</li><li><strong>检测到用户或通过编程方式尝试关闭程序时，调用 OnDeinit 事件处理函数（如果存在）</strong>（相应的函数 ExpertRemove 仅在智能交易系统和脚本中可用）。</li><li><strong>最终处理</strong>：释放已分配的内存以及程序员在 OnDeinit 中认为无需释放的其他资源。如果程序使用面向对象编程（OOP），这里将调用全局和静态对象的析构函数。</li><li><strong>卸载程序</strong>。</li></ol><p>脚本和服务程序按其本质没有 OnInit 和 OnDeinit 处理函数，因此对于它们来说不存在步骤 3 和 5，并且步骤 4 退化为单个 OnStart 函数的调用。</p><p>系统初始化（步骤 2）与加载是不可分割的，也就是说，它总是在加载之后进行。最终处理总是在卸载之前进行。然而，指标和智能交易系统在不同情况下的加载和卸载阶段有所不同。因此，OnInit 和 OnDeinit 的调用（步骤 3 和 5）是参考点，通过这些点可以为智能交易系统和指标提供一致的应用初始化和反初始化。</p><p>指标和智能交易系统在以下情况下进行加载：</p><table tabindex="0"><thead><tr><th>情况</th><th>指标</th><th>智能交易系统</th></tr></thead><tbody><tr><td>用户在图表上启动程序</td><td>+</td><td>+</td></tr><tr><td>启动终端（如果程序在上次关闭终端之前在图表上运行）</td><td>+</td><td>+</td></tr><tr><td>加载模板（如果模板包含附加到图表的程序）</td><td>+</td><td>+</td></tr><tr><td>更改配置文件（如果程序附加到配置文件中的一个图表）</td><td>+</td><td>+</td></tr><tr><td>成功重新编译后，如果程序附加到图表</td><td>+</td><td>+</td></tr><tr><td>更改活动账户</td><td>+</td><td>+</td></tr><tr><td>更改指标所附加图表的交易品种或周期</td><td>+</td><td>-</td></tr><tr><td>更改指标的输入参数</td><td>+</td><td>-</td></tr><tr><td>连接到账户（授权），即使账户号码未更改</td><td>-</td><td>+</td></tr></tbody></table><p>可以用更简洁的形式表述以下规则：智能交易系统不会经历完整的生命周期，也就是说，当图表的交易品种/时间框架发生变化以及输入参数改变时，它们不会重新加载。</p><p>因此，在卸载程序时也可以观察到类似的不对称性。卸载指标和智能交易系统的原因如下：</p><table tabindex="0"><thead><tr><th>情况</th><th>指标</th><th>智能交易系统</th></tr></thead><tbody><tr><td>从图表中移除程序</td><td>+</td><td>+</td></tr><tr><td>关闭终端（当程序附加到图表时）</td><td>+</td><td>+</td></tr><tr><td>在程序正在运行的图表上加载模板</td><td>+</td><td>+</td></tr><tr><td>关闭程序正在运行的图表</td><td>+</td><td>+</td></tr><tr><td>更改配置文件，如果程序附加到配置文件的一个图表</td><td>+</td><td>+</td></tr><tr><td>更改终端连接的账户</td><td>+</td><td>+</td></tr><tr><td>更改指标所附加图表的交易品种和/或周期</td><td>+</td><td>-</td></tr><tr><td>更改指标的输入参数</td><td>+</td><td>-</td></tr><tr><td>将另一个或同一个智能交易系统附加到当前已有智能交易系统正在运行的图表上</td><td>-</td><td>+</td></tr><tr><td>调用 ExpertRemove 函数</td><td>-</td><td>+</td></tr></tbody></table><p>可以使用函数 UninitializeReason 或标志 _UninitReason 在程序中找到反初始化的原因（详见“检查 MQL 程序停止的状态和原因”部分）。</p><p>请注意，当你更改图表的交易品种或时间框架，以及更改输入参数时，智能交易系统会保留在内存中，也就是说，不会执行步骤 6 - 7（最终处理和卸载）以及步骤 1 - 2（加载和初始内存分配），因此全局和静态变量的值不会被重置。在这种情况下，OnDeinit 和 OnInit 处理函数会分别在旧的和新的交易品种/时间框架（或在旧的和新的设置）上依次调用。</p><p>智能交易系统中全局变量未被清除的一个结果是，用于在 OnInit 处理函数中进行分析的反初始化代码 _UninitReason 保持不变。新的代码只会在下一个事件发生时，就在调用 OnDeinit 之前，写入该变量中。</p><p>在 OnInit 函数结束之前为智能交易系统接收到的所有事件都会被跳过。</p><p>当 MQL 程序首次启动时，设置对话框会在步骤 1 和 2 之间显示。当更改输入参数时，根据程序类型的不同，设置对话框会以不同的方式插入到一般循环中：对于指标，它仍然会在步骤 2 之前出现，而对于智能交易系统，则会在步骤 3 之前出现。</p><p>本书附带了一个名为 LifeCycle.mq5 的指标和智能交易系统模板。它会在 OnInit/OnDeinit 处理函数中记录全局初始化/最终处理步骤。将程序放置在图表上，看看针对各种用户操作（加载/卸载、更改参数、切换交易品种/时间框架）会发生哪些事件。</p><p>脚本只有在添加到图表上时才会被加载。如果一个脚本在循环中运行，重新编译它不会导致其重新启动。</p><p>服务程序使用终端界面中的上下文菜单命令进行加载和卸载。当重新编译已经在运行的服务程序时，它会被重新启动。回想一下，服务程序的活动实例在终端启动时会自动加载，在终端关闭时会自动卸载。</p><p>在接下来的两个部分中，我们将从事件处理函数的层面来考虑不同 MQL 程序的启动特点。</p><h2 id="指标和智能交易系统的参考事件-oninit-和-ondeinit" tabindex="-1">指标和智能交易系统的参考事件：OnInit 和 OnDeinit <a class="header-anchor" href="#指标和智能交易系统的参考事件-oninit-和-ondeinit" aria-label="Permalink to &quot;指标和智能交易系统的参考事件：OnInit 和 OnDeinit&quot;">​</a></h2><p>在交互式 MQL 程序（指标和智能交易系统）中，环境会生成两个事件，分别用于准备启动（OnInit）和停止（OnDeinit）。脚本和服务程序中不存在这类事件，因为它们不接受异步事件：在控制权传递给它们唯一的事件处理函数 OnStart 之后，直到工作结束，脚本/服务程序线程的执行上下文都处于 MQL 程序的代码中。相反，对于指标和智能交易系统而言，正常的工作流程假定环境会多次调用它们特定的事件处理函数（我们将在指标和智能交易系统的相关部分讨论这些函数），并且每次程序执行必要操作后，都会将控制权交还给终端，以空闲等待新事件。</p><h3 id="int-oninit" tabindex="-1">int OnInit() <a class="header-anchor" href="#int-oninit" aria-label="Permalink to &quot;int OnInit()&quot;">​</a></h3><p>OnInit 函数是同名事件的处理函数，该事件在加载智能交易系统或指标后生成。此函数可根据需要进行定义。</p><p>该函数必须返回 ENUM_INIT_RETCODE 枚举类型中的一个值。</p><table tabindex="0"><thead><tr><th>标识符</th><th>描述</th></tr></thead><tbody><tr><td>INIT_SUCCEEDED</td><td>初始化成功，程序可以继续执行；对应值为 0</td></tr><tr><td>INIT_FAILED</td><td>初始化失败，由于致命错误（例如，无法创建文件或辅助指标），程序无法继续执行；值为 1</td></tr><tr><td>INIT_PARAMETERS_INCORRECT</td><td>输入参数集不正确，程序无法执行</td></tr><tr><td>INIT_AGENT_NOT_SUITABLE</td><td>在测试器中工作的特定代码：由于某些原因，此代理不适合进行测试（例如，内存不足、不支持 OpenCL 等）</td></tr></tbody></table><p>如果 OnInit 返回任何非零返回码，则意味着初始化失败，随后会生成 Deinit 事件，反初始化原因代码为 REASON_INITFAILED（见下文）。</p><p>OnInit 函数可以声明为返回类型为 void：在这种情况下，初始化始终被视为成功。</p><p>在 OnInit 处理函数中，重要的是检查是否存在所有必要的环境信息，如果信息不可用，则将准备操作推迟到下一个报价数据或定时器到达事件。关键在于，当终端启动时，OnInit 事件通常在与服务器建立连接之前触发，因此许多金融工具和交易账户的属性仍然未知。特别是，特定交易品种的一个点值可能会返回为零。</p><h3 id="void-ondeinit-const-int-reason" tabindex="-1">void OnDeinit(const int reason) <a class="header-anchor" href="#void-ondeinit-const-int-reason" aria-label="Permalink to &quot;void OnDeinit(const int reason)&quot;">​</a></h3><p>当智能交易系统或指标进行反初始化时，会调用 OnDeinit 函数（如果已定义）。此函数是可选的。</p><p>reason 参数包含反初始化原因代码。可能的值如下表所示：</p><table tabindex="0"><thead><tr><th>常量</th><th>值</th><th>描述</th></tr></thead><tbody><tr><td>REASON_PROGRAM</td><td>0</td><td>通过调用 ExpertRemove 函数停止智能交易系统的操作</td></tr><tr><td>REASON_REMOVE</td><td>1</td><td>程序从图表中移除</td></tr><tr><td>REASON_RECOMPILE</td><td>2</td><td>程序重新编译</td></tr><tr><td>REASON_CHARTCHANGE</td><td>3</td><td>图表的交易品种或周期发生更改</td></tr><tr><td>REASON_CHARTCLOSE</td><td>4</td><td>图表关闭</td></tr><tr><td>REASON_PARAMETERS</td><td>5</td><td>输入参数发生更改</td></tr><tr><td>REASON_ACCOUNT</td><td>6</td><td>激活了另一个账户，或者由于账户设置更改而重新连接到交易服务器</td></tr><tr><td>REASON_TEMPLATE</td><td>7</td><td>应用了不同的图表模板</td></tr><tr><td>REASON_INITFAILED</td><td>8</td><td>OnInit 处理函数返回非零值</td></tr><tr><td>REASON_CLOSE</td><td>9</td><td>终端关闭</td></tr></tbody></table><p>如果 MQL 程序中设置了停止标志 _StopFlag，则可以在程序的任何位置使用 UninitializeReason 函数获取相同的代码。</p><p>AllInOne.mqh 文件中有一个 Finalizer 类，它允许通过调用 UninitializeReason 在析构函数中“挂钩”反初始化代码。我们必须在 OnDeinit 处理函数中获得相同的值。</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Finalizer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">   static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Finalizer f;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   ~Finalizer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      PRTF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">EnumToString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((ENUM_DEINIT_REASON)</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UninitializeReason</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Finalizer </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Finalizer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::f;</span></span></code></pre></div><p>为了方便使用 EnumToString 将代码转换为字符串表示形式（原因名称），在 Uninit.mqh 文件中描述了包含上述表格中常量的枚举类型 ENUM_DEINIT_REASON。日志中将显示如下条目：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>OnDeinit DEINIT_REASON_REMOVE</span></span>
<span class="line"><span>EnumToString((ENUM_DEINIT_REASON)UninitializeReason())=DEINIT_REASON_REMOVE / ok</span></span></code></pre></div><p>当更改指标所在图表的交易品种或时间框架时，指标会被卸载并重新加载。在这种情况下，旧副本中 OnDeinit 事件的触发和新副本中 OnInit 事件的触发顺序是不确定的。这是由于终端处理异步事件的特性所致。换句话说，可能会出现不太合理的情况，即新副本在旧副本完全卸载之前就被加载并初始化。如果指标在 OnInit 中进行了一些图表调整（例如，创建图形对象），那么在不采取特殊措施的情况下，已卸载的副本可能会立即“清理”图表（删除对象，认为它是自己创建的）。对于图形对象的特定情况，有一个特定的解决方案：可以给对象命名，使其包含交易品种和时间框架前缀（以及输入变量值的校验和），但在一般情况下，这种方法并不适用。为了通用地解决这个问题，应该实现某种同步机制，例如使用全局变量或资源。</p><p>在测试器中测试指标时，MetaTrader 5 开发者决定不生成 OnDeinit 事件。他们的想法是，指标可能会创建一些图形对象，通常会在 OnDeinit 处理函数中删除这些对象，但用户希望在测试完成后看到它们。实际上，如果愿意，MQL 程序的作者可以通过对 MQLInfoInteger(MQL_TESTER) 模式进行正向检查来提供类似的行为。这很奇怪，因为在智能交易系统测试后会调用 OnDeinit 处理函数，并且智能交易系统可以在 OnDeinit 中以同样的方式删除对象。现在，仅对于指标而言，测试器中无法保证 OnDeinit 处理函数的常规行为。此外，也不会执行其他最终处理操作，例如，不会调用全局对象的析构函数。</p><p>因此，如果需要在测试运行后执行统计计算、保存文件或其他原本打算在指标的 OnDeinit 中执行的操作，就必须将指标算法转移到智能交易系统中。</p><h2 id="脚本和服务程序的主函数-onstart" tabindex="-1">脚本和服务程序的主函数：OnStart <a class="header-anchor" href="#脚本和服务程序的主函数-onstart" aria-label="Permalink to &quot;脚本和服务程序的主函数：OnStart&quot;">​</a></h2><p>实用型程序（脚本和服务程序）在终端中通过调用它们唯一的事件处理函数 OnStart 来执行。</p><h3 id="void-onstart" tabindex="-1">void OnStart() <a class="header-anchor" href="#void-onstart" aria-label="Permalink to &quot;void OnStart()&quot;">​</a></h3><p>这个函数没有参数，也不返回任何值。它仅仅作为从终端端进入应用程序的一个入口点。</p><p>一般来说，脚本是用于在图表上执行一次性操作的（稍后我们将学习图表 API 所提供的所有功能）。例如，一个脚本可以用来设置订单网格，或者相反，关闭所有盈利的未平仓头寸，自动使用图形对象进行标注，或者临时隐藏所有对象。</p><p>在脚本中，你可以使用包含在无限循环中的持续操作，如前面所提到的，在这种情况下，你应该始终检查停止标志（_StopFlag）并定期释放处理器（使用 Sleep 函数）。这里应该记住，当你关闭并重新打开终端时，脚本将不得不再次运行。</p><p>因此，对于这种持续的活动，如果它与图表的操作没有直接关系，最好使用服务程序。实现服务程序的标准技术就是一个“无限”循环。</p><p>在本书前面的部分中，几乎所有的示例都是作为脚本来实现的。一个服务程序的示例是“使用全局变量同步程序”部分中的 GlobalsWithCondition.mq5 程序。在下一部分关于使用 ExpertRemove 函数停止智能交易系统和脚本的内容中，我们还将看到另一个示例。</p><h2 id="以编程方式移除智能交易系统和脚本-expertremove" tabindex="-1">以编程方式移除智能交易系统和脚本：ExpertRemove <a class="header-anchor" href="#以编程方式移除智能交易系统和脚本-expertremove" aria-label="Permalink to &quot;以编程方式移除智能交易系统和脚本：ExpertRemove&quot;">​</a></h2><p>如果有必要，开发者可以组织停止并卸载两种类型的 MQL 程序：智能交易系统（EA）和脚本。这是通过使用 ExpertRemove 函数来完成的。</p><h3 id="void-expertremove" tabindex="-1">void ExpertRemove() <a class="header-anchor" href="#void-expertremove" aria-label="Permalink to &quot;void ExpertRemove()&quot;">​</a></h3><p>这个函数没有参数，也不返回任何值。它向 MQL 程序执行环境发送一个请求，以删除当前程序。实际上，这会导致设置 _StopFlag 标志，并停止接收（和处理）所有后续事件。在此之后，程序会有 3 秒钟的时间来妥善完成其工作：释放资源、中断算法中的循环等等。如果程序没有这样做，它将被强制卸载，同时会丢失中间数据。</p><p>这个函数在指标和服务程序中不起作用（程序会继续运行）。</p><p>对于每次函数调用，日志中都会包含“ExpertRemove() 函数被调用”的记录。</p><p>这个函数主要用于那些无法以其他方式中断的智能交易系统。对于脚本而言，通常使用 break 语句来中断循环（如果存在循环的话）会更容易。但是，如果循环是嵌套的，或者算法中存在许多相互调用的函数，那么在继续计算的条件中，在不同级别考虑停止标志会更容易，并且在出现错误情况时，使用 ExpertRemove 来设置这个标志。如果不使用这个内置标志，无论如何你都必须引入一个具有相同用途的全局变量。</p><p>脚本 ScriptRemove.mq5 提供了 ExpertRemove 的使用示例。</p><p>算法运行中可能导致需要卸载脚本的潜在问题由 ProblemSource 类来模拟。在其构造函数中会随机调用 ExpertRemove。</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ProblemSource</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   ProblemSource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 模拟对象创建过程中的问题，例如，</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 捕获某些资源，如文件等</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">         ExpertRemove</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 将 _StopFlag 设置为 true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>接下来，在全局级别和辅助函数内部创建这个类的对象。</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ProblemSource global;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 对象可能会抛出错误</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SubFunction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   ProblemSource local;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //对象可能会抛出错误</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   // 模拟一些工作（我们需要检查对象的完整性！）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   Sleep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>现在，我们在 OnStart 操作中，在带有 IsStopped 条件的循环内部使用 SubFunction。</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> OnStart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">   int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   // 循环直到被用户或程序自身停止</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">   while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IsStopped</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      SubFunction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      Print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">count);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>以下是一个日志示例（由于随机性，每次运行结果都会不同）：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>ExpertRemove() function called</span></span>
<span class="line"><span>4</span></span></code></pre></div><p>请注意，如果在创建全局对象时发生错误，循环将永远不会执行。</p><p>因为智能交易系统可以在测试器中运行，所以 ExpertRemove 函数也可以在测试器中使用。它的效果取决于函数调用的位置。如果在 OnInit 处理函数内部调用，该函数将取消测试，也就是说，测试器针对当前智能交易系统参数集的一次运行将被取消。这种终止被视为初始化错误。当在算法的任何其他位置调用 ExpertRemove 时，智能交易系统的测试将提前中断，但会以常规方式进行处理，会调用 OnDeinit 和 OnTester。在这种情况下，会获得累积的交易统计数据和优化标准的值，要考虑到模拟的服务器时间 TimeCurrent 没有达到测试器设置中的结束日期。</p></div></div></main><footer class="VPDocFooter" data-v-c23ecb28 data-v-7e27a434><!--[--><!--]--><div class="edit-info" data-v-7e27a434><!----><div class="last-updated" data-v-7e27a434><p class="VPLastUpdated" data-v-7e27a434 data-v-205198a3>最近更新: <time datetime="2025-04-11T15:58:41.000Z" data-v-205198a3></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-7e27a434><span class="visually-hidden" id="doc-footer-aria-label" data-v-7e27a434>Pager</span><div class="pager" data-v-7e27a434><a class="VPLink link pager-link prev" href="/mq5_programming_for_traders/creating_application_programs/" data-v-7e27a434><!--[--><span class="desc" data-v-7e27a434>上一页</span><span class="title" data-v-7e27a434>简介</span><!--]--></a></div><div class="pager" data-v-7e27a434><a class="VPLink link pager-link next" href="/mq5_programming_for_traders/creating_application_programs/script_and_services" data-v-7e27a434><!--[--><span class="desc" data-v-7e27a434>下一页</span><span class="title" data-v-7e27a434>脚本和服务</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-e8cbffd7 data-v-6afcd22d><div class="container" data-v-6afcd22d><!----><p class="copyright" data-v-6afcd22d>Copyright © 2025-present </p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"about_index.md\":\"B9AHvdXa\",\"article_agile_dev.md\":\"NdNksZ5T\",\"article_common_custom.md\":\"Bnou3GXK\",\"article_eastore.md\":\"CgBIgP7m\",\"article_equity_control.md\":\"CLNMDT65\",\"article_index.md\":\"Wa4OTFCi\",\"article_insample_outsample.md\":\"D1MBTOel\",\"article_judge_strategy.md\":\"Cov4ctIn\",\"article_kaufman.md\":\"DOUk4OXd\",\"article_market_pending.md\":\"DsJu6rft\",\"article_market_scan.md\":\"CbZmgwd4\",\"article_monte_carlo_simulate2.md\":\"Cm4k7L6d\",\"article_mt5_ontester.md\":\"Cj6T22Pr\",\"article_overfitting_underfitting.md\":\"Cb4ZpjNj\",\"article_parameter_optimization.md\":\"BX-0xMLY\",\"article_portfolio.md\":\"D-a8WdRf\",\"article_pre_live.md\":\"D0WByXgU\",\"article_quant_rank.md\":\"CNPMm-mK\",\"article_rand_probability.md\":\"DLTTm8ny\",\"article_success_for_quant.md\":\"p_TcVXdX\",\"article_unify_price.md\":\"DzNrbUoq\",\"blog.md\":\"BBN8JdHd\",\"future_strategy_gubi12345.md\":\"DUyMHRw6\",\"future_strategy_index copy.md\":\"DBE0dQPt\",\"future_strategy_index.md\":\"NKXOdsbl\",\"future_strategy_jump_reverse.md\":\"BHWbME5R\",\"future_strategy_macd.md\":\"BvwbMKlG\",\"future_strategy_td9_reverse.md\":\"UTx-2RYZ\",\"index.md\":\"CQiPVH0-\",\"metaeditor_development_ai_assistant.md\":\"Qh8YIGlY\",\"metaeditor_development_c_dll.md\":\"B4yoin-H\",\"metaeditor_development_compile.md\":\"DVRo-uoD\",\"metaeditor_development_debug.md\":\"B2d4Ifvu\",\"metaeditor_development_generate_mqh.md\":\"Xd75GVMe\",\"metaeditor_development_index.md\":\"DE5MTnWI\",\"metaeditor_development_intelligent_management.md\":\"CjVjq_8j\",\"metaeditor_development_mql5_cloud_protector.md\":\"6eq8xFFz\",\"metaeditor_development_opencl.md\":\"CdDUVMDo\",\"metaeditor_development_profiling.md\":\"Dr_qEn6W\",\"metaeditor_development_python.md\":\"7f90Ke0w\",\"metaeditor_development_source_code_find.md\":\"DwXw9-7w\",\"metaeditor_development_styler.md\":\"aeVj7YCs\",\"metaeditor_main_menu_index.md\":\"CsZfAngo\",\"metaeditor_main_menu_main_menu_build.md\":\"D7tch4dN\",\"metaeditor_main_menu_main_menu_debug.md\":\"C4wAN0Bw\",\"metaeditor_main_menu_main_menu_edit.md\":\"BSEzT4HX\",\"metaeditor_main_menu_main_menu_file.md\":\"QrFMmwOF\",\"metaeditor_main_menu_main_menu_help.md\":\"C_aMJIES\",\"metaeditor_main_menu_main_menu_search.md\":\"CxQ-4Oor\",\"metaeditor_main_menu_main_menu_tools.md\":\"DQ-Dq6TH\",\"metaeditor_main_menu_main_menu_view.md\":\"DT9pbEW0\",\"metaeditor_main_menu_main_menu_window.md\":\"DCukVq7K\",\"metaeditor_mql5_wizard_index.md\":\"QlxPeAXF\",\"metaeditor_mql5_wizard_wizard_class.md\":\"BF9hu16p\",\"metaeditor_mql5_wizard_wizard_ea.md\":\"_UMZQE5z\",\"metaeditor_mql5_wizard_wizard_ea_generate.md\":\"Dlscjoyf\",\"metaeditor_mql5_wizard_wizard_include.md\":\"DgWzXxuT\",\"metaeditor_mql5_wizard_wizard_indicator.md\":\"BBJ7J478\",\"metaeditor_mql5_wizard_wizard_library.md\":\"BrDnwfZU\",\"metaeditor_mql5_wizard_wizard_script.md\":\"2lUOgcbi\",\"metaeditor_mql5storage_index.md\":\"mBzBbcmN\",\"metaeditor_mql5storage_mql5storage_connect.md\":\"iYDMainN\",\"metaeditor_mql5storage_mql5storage_diff.md\":\"5lUIXKAz\",\"metaeditor_mql5storage_mql5storage_merging.md\":\"BeryPg52\",\"metaeditor_mql5storage_mql5storage_svn_client.md\":\"FoqAuE8g\",\"metaeditor_mql5storage_mql5storage_working.md\":\"YDC3CDPd\",\"metaeditor_mql5storage_projects.md\":\"CT-WuAj-\",\"metaeditor_other_articles.md\":\"C3GAEYxI\",\"metaeditor_other_index.md\":\"DavKqh0I\",\"metaeditor_other_machine_learning.md\":\"Dvp3_p2Y\",\"metaeditor_other_mql5_help.md\":\"Dp7_k9VZ\",\"metaeditor_other_mql5community.md\":\"Qpg-vGKy\",\"metaeditor_other_project_example.md\":\"Bx-DsCI8\",\"metaeditor_other_structure.md\":\"CbGZytYU\",\"metaeditor_other_video_guides.md\":\"DL2P45uj\",\"metaeditor_toolbar_index.md\":\"eth3Ai6A\",\"metaeditor_toolbar_toolbar_customize.md\":\"CWrpOwUr\",\"metaeditor_toolbar_toolbar_search.md\":\"6scXDOKF\",\"metaeditor_toolbar_toolbar_standard.md\":\"BiyIL1uY\",\"metaeditor_welcome_index.md\":\"By1rEzqW\",\"metaeditor_welcome_integration_ide.md\":\"BUY3d7Bq\",\"metaeditor_welcome_open.md\":\"Ck35TjWz\",\"metaeditor_welcome_settings.md\":\"BAxr8soh\",\"metaeditor_workspace_hotkeys.md\":\"Czdmqi5F\",\"metaeditor_workspace_index.md\":\"CmBJn6ZH\",\"metaeditor_workspace_navigator.md\":\"DJCLqPk6\",\"metaeditor_workspace_source_code_windows.md\":\"tnuTZsRk\",\"metaeditor_workspace_status_bar.md\":\"C13k-6hq\",\"metaeditor_workspace_toolbox.md\":\"CNRIQj54\",\"mq5_programming_for_traders_advanced_language_tools_conclusion.md\":\"0PwNZPNl\",\"mq5_programming_for_traders_advanced_language_tools_connection_of_binary_format_libraries.md\":\"hvpRSgQ9\",\"mq5_programming_for_traders_advanced_language_tools_cryptography.md\":\"BTyMSjhf\",\"mq5_programming_for_traders_advanced_language_tools_custom_symbol.md\":\"CLr1ZIzp\",\"mq5_programming_for_traders_advanced_language_tools_economic_calendar.md\":\"B-1BdDqs\",\"mq5_programming_for_traders_advanced_language_tools_index.md\":\"rtzvW4xP\",\"mq5_programming_for_traders_advanced_language_tools_native_python_support.md\":\"CAzzlsno\",\"mq5_programming_for_traders_advanced_language_tools_network_functions.md\":\"DGqpCXaq\",\"mq5_programming_for_traders_advanced_language_tools_opencl.md\":\"d-FLxv9t\",\"mq5_programming_for_traders_advanced_language_tools_projects.md\":\"CwYCSmY8\",\"mq5_programming_for_traders_advanced_language_tools_resources.md\":\"DdxIf_Gq\",\"mq5_programming_for_traders_advanced_language_tools_sqlite_database.md\":\"BJJ4vRXZ\",\"mq5_programming_for_traders_common_mql5_apis_built-in_type_conversions.md\":\"BJ8b8E40\",\"mq5_programming_for_traders_common_mql5_apis_client_terminal_global_variables.md\":\"CZJKm3Tr\",\"mq5_programming_for_traders_common_mql5_apis_functions_for_working_with_time.md\":\"DI4Huh6u\",\"mq5_programming_for_traders_common_mql5_apis_index.md\":\"Bxnf4t60\",\"mq5_programming_for_traders_common_mql5_apis_mathematical_functions.md\":\"v0RcZ8Bm\",\"mq5_programming_for_traders_common_mql5_apis_matrices_and_vectors.md\":\"BloYrgu5\",\"mq5_programming_for_traders_common_mql5_apis_mql_program_execution_environment.md\":\"BYy0lKsO\",\"mq5_programming_for_traders_common_mql5_apis_user_interaction.md\":\"brOfJ4xk\",\"mq5_programming_for_traders_common_mql5_apis_working_with_arrays.md\":\"4boikkon\",\"mq5_programming_for_traders_common_mql5_apis_working_with_files.md\":\"bYurQNDG\",\"mq5_programming_for_traders_common_mql5_apis_working_with_strings_and_symbols.md\":\"BHt6IaQ5\",\"mq5_programming_for_traders_creating_application_programs_creating_custom_indicators.md\":\"Cd6PXBEr\",\"mq5_programming_for_traders_creating_application_programs_general_principles.md\":\"CecaAjsK\",\"mq5_programming_for_traders_creating_application_programs_graphical_objects.md\":\"CeRDg33Q\",\"mq5_programming_for_traders_creating_application_programs_index.md\":\"DzjN0t2z\",\"mq5_programming_for_traders_creating_application_programs_interactive_events_on_charts.md\":\"DoWfUhJ-\",\"mq5_programming_for_traders_creating_application_programs_ready-made-indicators.md\":\"CdGrAok6\",\"mq5_programming_for_traders_creating_application_programs_script_and_services.md\":\"Ds6GQ7Mu\",\"mq5_programming_for_traders_creating_application_programs_timeseries.md\":\"DAOQf8DS\",\"mq5_programming_for_traders_creating_application_programs_working_with_charts.md\":\"C8ALaJ3W\",\"mq5_programming_for_traders_creating_application_programs_working_with_timer.md\":\"rKnhTcwB\",\"mq5_programming_for_traders_mql5_programming_fundamentals_arrays.md\":\"B7TDIA2N\",\"mq5_programming_for_traders_mql5_programming_fundamentals_built-in_data_types.md\":\"BJecBoo0\",\"mq5_programming_for_traders_mql5_programming_fundamentals_expresssions.md\":\"B2GKuwhl\",\"mq5_programming_for_traders_mql5_programming_fundamentals_function.md\":\"C4vnB2H3\",\"mq5_programming_for_traders_mql5_programming_fundamentals_identifiers.md\":\"BSg_2nhU\",\"mq5_programming_for_traders_mql5_programming_fundamentals_index.md\":\"DQ0B6ZTn\",\"mq5_programming_for_traders_mql5_programming_fundamentals_preprocessor.md\":\"B_k42HAk\",\"mq5_programming_for_traders_mql5_programming_fundamentals_statements.md\":\"CWk98WNh\",\"mq5_programming_for_traders_mql5_programming_fundamentals_type_conversion.md\":\"8_ZNUVGX\",\"mq5_programming_for_traders_mql5_programming_fundamentals_variables.md\":\"C7GVmurH\",\"mq5_programming_for_traders_object_oriented_programming_classes_and_interfaces.md\":\"CzU8_4ZT\",\"mq5_programming_for_traders_object_oriented_programming_common_mql5_apis.md\":\"D5XEbYZb\",\"mq5_programming_for_traders_object_oriented_programming_index.md\":\"BBkB91cc\",\"mq5_programming_for_traders_object_oriented_programming_structures_and_unions.md\":\"Dws_3Wfi\",\"mq5_programming_for_traders_object_oriented_programming_templates.md\":\"Bp5Vsu7i\",\"mq5_programming_for_traders_trading_automation_createing_expert_advisors.md\":\"B8KWDu4f\",\"mq5_programming_for_traders_trading_automation_depth_of_market.md\":\"CJua2CZk\",\"mq5_programming_for_traders_trading_automation_financial_instruments_and_market_watch.md\":\"B9RlHY5U\",\"mq5_programming_for_traders_trading_automation_index.md\":\"DcVCA3Xb\",\"mq5_programming_for_traders_trading_automation_testing_and_optimization_of_expert_advisors.md\":\"LG4RxcmA\",\"mq5_programming_for_traders_trading_automation_trading_account_information.md\":\"CHmQrrmp\",\"mq5_programming_for_traders_welcome_assignment_and_initialization.md\":\"CdLaVmgo\",\"mq5_programming_for_traders_welcome_data_input.md\":\"B5W5WYJv\",\"mq5_programming_for_traders_welcome_data_output.md\":\"DcGmnzpC\",\"mq5_programming_for_traders_welcome_data_types_and_values.md\":\"Dv6hAERD\",\"mq5_programming_for_traders_welcome_editing_compiling_running.md\":\"BA3EGcZg\",\"mq5_programming_for_traders_welcome_error_fixing_and_debugging.md\":\"BN8lpIjA\",\"mq5_programming_for_traders_welcome_first_program.md\":\"oXez6HUu\",\"mq5_programming_for_traders_welcome_formatting.md\":\"D5ebtoBn\",\"mq5_programming_for_traders_welcome_index.md\":\"BrRXkeMt\",\"mq5_programming_for_traders_welcome_introduction_to_mql5.md\":\"BvM3hfTq\",\"mq5_programming_for_traders_welcome_mini_summary.md\":\"BSHljDGF\",\"mq5_programming_for_traders_welcome_mql5_programming_fundamentals.md\":\"BsoDEGck\",\"mq5_programming_for_traders_welcome_mql_wizard.md\":\"CwvlpJdf\",\"mq5_programming_for_traders_welcome_statements.md\":\"KkeQ-Bou\",\"mq5_programming_for_traders_welcome_variables_and_identifiers.md\":\"C9lxFFVr\",\"mt5_ctp_quick_start_account_info.md\":\"DR4Rw3CY\",\"mt5_ctp_quick_start_close_position.md\":\"BRQK4G7k\",\"mt5_ctp_quick_start_index.md\":\"B2rSyaQG\",\"mt5_ctp_quick_start_open_position.md\":\"CDyGqjc7\",\"mt5_ctp_quick_start_position_info.md\":\"TvG0GaYI\",\"mt5_quick_start_advance_konwledge_avoid_overfitting.md\":\"CYXUcurC\",\"mt5_quick_start_advance_konwledge_correlation_factor.md\":\"Df2TVMr3\",\"mt5_quick_start_advance_konwledge_evaluation_function.md\":\"CnFbM0nQ\",\"mt5_quick_start_advance_konwledge_high_quality_data.md\":\"BCe0ZMc_\",\"mt5_quick_start_advance_konwledge_index.md\":\"DfrB40VA\",\"mt5_quick_start_advance_konwledge_market_scan.md\":\"D6OwrfeJ\",\"mt5_quick_start_advance_konwledge_monte_carlo_simulate.md\":\"D5Psab6X\",\"mt5_quick_start_advance_konwledge_multiple_symbol_ea.md\":\"CqeHZuaj\",\"mt5_quick_start_advance_konwledge_oop.md\":\"Ce16Qf4A\",\"mt5_quick_start_advance_konwledge_optimize.md\":\"CBp1MtPi\",\"mt5_quick_start_advance_konwledge_strategy_portfolio_manage.md\":\"jMZCKkG3\",\"mt5_quick_start_advance_konwledge_unify_price.md\":\"Cdd48RSR\",\"mt5_quick_start_advance_konwledge_wfa.md\":\"CBVZld5V\",\"mt5_quick_start_basic_grammar_control.md\":\"DXrWevAk\",\"mt5_quick_start_basic_grammar_data_type.md\":\"bvOOK_9s\",\"mt5_quick_start_basic_grammar_ea_composition.md\":\"kmz5f2uL\",\"mt5_quick_start_basic_grammar_expression.md\":\"CFp45n45\",\"mt5_quick_start_basic_grammar_function.md\":\"DCw0nVWK\",\"mt5_quick_start_basic_grammar_index.md\":\"BcwriF-p\",\"mt5_quick_start_basic_grammar_variable.md\":\"Di2Z9VyK\",\"mt5_quick_start_classic_strategy_contrarian_rsi_ma.md\":\"C4xb6yv0\",\"mt5_quick_start_classic_strategy_donchian_channel.md\":\"WdpC59Y5\",\"mt5_quick_start_classic_strategy_ichimoku.md\":\"B5gOLF-g\",\"mt5_quick_start_classic_strategy_index.md\":\"BrXjJt2I\",\"mt5_quick_start_classic_strategy_london_break.md\":\"DA9HJO7v\",\"mt5_quick_start_classic_strategy_td9_trend.md\":\"Ur-wc6Z1\",\"mt5_quick_start_classic_strategy_triple_screen.md\":\"CKsgq5e9\",\"mt5_quick_start_first_real_ea_complete_code.md\":\"D4pYUMXn\",\"mt5_quick_start_first_real_ea_index.md\":\"Cui2l2y2\",\"mt5_quick_start_first_real_ea_indicator_data.md\":\"DXNoqidi\",\"mt5_quick_start_first_real_ea_open_detail.md\":\"DPcf3iSx\",\"mt5_quick_start_first_real_ea_param_check.md\":\"CfhNaSL3\",\"mt5_quick_start_first_real_ea_risk_manage.md\":\"Cfo-icv1\",\"mt5_quick_start_indicator_tools_calendar.md\":\"Cpcfdnjn\",\"mt5_quick_start_indicator_tools_donchian_channel.md\":\"B5qUwECO\",\"mt5_quick_start_indicator_tools_full_period_indicator_monitor.md\":\"DNudUriM\",\"mt5_quick_start_indicator_tools_index.md\":\"2t6sUfkd\",\"mt5_quick_start_indicator_tools_oncaclulate.md\":\"BdFUawHd\",\"mt5_quick_start_indicator_tools_oscillator.md\":\"CrzqRQuQ\",\"mt5_quick_start_indicator_tools_price_intensive.md\":\"C2HZffks\",\"mt5_quick_start_indicator_tools_squeeze.md\":\"Bb1ikQaT\",\"mt5_quick_start_welcome_cfd_advantage.md\":\"CsSTntXp\",\"mt5_quick_start_welcome_index.md\":\"Dm1LgN2p\",\"mt5_quick_start_welcome_mt5_ide.md\":\"CzMr1ovT\",\"mt5_quick_start_welcome_mt5_indroduce.md\":\"CdtlTrSp\",\"mt5_quick_start_welcome_outline.md\":\"CNBRu7CX\",\"mt5_strategy_boll.md\":\"BBEOdP7z\",\"mt5_strategy_bolla.md\":\"DT1oPsIT\",\"mt5_strategy_contrarian_by_rsi_ma.md\":\"D4OEmCWM\",\"mt5_strategy_debug.md\":\"BAdewFIh\",\"mt5_strategy_divergent_oscillation.md\":\"CzJS0mwx\",\"mt5_strategy_eldtriplescreen.md\":\"Bdc0kGYs\",\"mt5_strategy_frequency_trading_index.md\":\"CGgGwARD\",\"mt5_strategy_ichimokutrendflow.md\":\"DgYG27lx\",\"mt5_strategy_indicator_donchianchannel.md\":\"Dkqrg_rw\",\"mt5_strategy_indicator_oncalculate.md\":\"-UaJSB1K\",\"mt5_strategy_londonbreakout.md\":\"es6k497E\",\"mt5_strategy_macd.md\":\"BAFBk6VQ\",\"mt5_strategy_martingale_index.md\":\"D0qPRVxv\",\"mt5_strategy_martingale_martingale_reverse.md\":\"C3APRr9F\",\"mt5_strategy_nr4.md\":\"D5mSofLY\",\"mt5_strategy_panel_calendar.md\":\"D672her7\",\"mt5_strategy_permission_verification.md\":\"0kLvX01z\",\"mt5_strategy_price_action_index.md\":\"DG-sY23W\",\"mt5_strategy_risk_monitor.md\":\"Bsh6-W1g\",\"mt5_strategy_strategy_quant_x.md\":\"DcC5P60N\",\"mt5_strategy_td9_trend_flow_stop_order.md\":\"dxKcn8zZ\",\"mt5_strategy_trend_follow_index.md\":\"C3GcYU33\",\"mt5_strategy_trend_follow_ma_macd.md\":\"Ci8i3kTP\",\"mt5_strategy_trend_follow_triple_screen.md\":\"BVqx-UX8\",\"public_reports_future_backtest_data_cs_md_report_cs_1h_6060系统.md\":\"3aVN56x6\",\"public_reports_future_backtest_data_cu_md_report_cu_1h_海豚系统.md\":\"DJQZ23_I\",\"public_reports_future_backtest_data_ec_md_report_ec_1h_海豚系统.md\":\"DH01Kph2\",\"public_reports_future_backtest_data_fg_md_report_fg_1h_均线择时马丁.md\":\"Db_HKH_y\",\"public_reports_future_backtest_data_hc_md_report_hc_30m_首次macd双叉.md\":\"ChVtTgc8\",\"public_reports_future_backtest_data_ic_md_report_ic_15m_rsi.md\":\"CZXRrXNx\",\"public_reports_future_backtest_data_if_md_report_if_15m_基准线.md\":\"CfTzY5WR\",\"public_reports_future_backtest_data_if_md_report_if_15m_天衣无缝.md\":\"DJwFCev1\",\"public_reports_future_backtest_data_if_md_report_if_15m_心理线.md\":\"QagRzDFK\",\"public_reports_future_backtest_data_if_md_report_if_15m_量在价先.md\":\"D7wB5B4b\",\"public_reports_future_backtest_data_if_md_report_if_15m_顺势macd.md\":\"Cd4mhyd2\",\"public_reports_future_backtest_data_if_md_report_if_30m_跳空系统.md\":\"CUshcch5\",\"public_reports_future_backtest_data_if_md_report_if_5m_双均线反手.md\":\"CDvK2s6N\",\"public_reports_future_backtest_data_lc_md_report_lc_30m_单均线atr.md\":\"C07XsZYZ\",\"public_reports_future_backtest_data_lc_md_report_lc_30m_布林通道.md\":\"Cn5uiGIv\",\"public_reports_future_backtest_data_lh_md_report_lh_15m_bollma5.md\":\"DA7LxPDP\",\"public_reports_future_backtest_data_lh_md_report_lh_1h_cci.md\":\"BzpJEToD\",\"public_reports_future_backtest_data_lh_md_report_lh_30m_cci.md\":\"BMPCbCaN\",\"public_reports_future_backtest_data_lh_md_report_lh_5m_mamacd双叉.md\":\"BC8P9EB6\",\"public_reports_future_backtest_data_m_md_report_m_30m_均线择时马丁.md\":\"CO_wHdj9\",\"public_reports_future_backtest_data_rb_md_report_rb_15m_12345系统.md\":\"U80lrDwV\",\"public_reports_future_backtest_data_rb_md_report_rb_15m_macd进日sar出.md\":\"DN-MUBEq\",\"public_reports_future_backtest_data_rb_md_report_rb_15m_跳空系统.md\":\"CjTyrSRS\",\"public_reports_future_backtest_data_rb_md_report_rb_1h_bollmacd.md\":\"D5R7kA01\",\"public_reports_future_backtest_data_rb_md_report_rb_1h_均线排列macd.md\":\"BSPE-Fas\",\"public_reports_future_backtest_data_rb_md_report_rb_1h_顺势td9加仓.md\":\"BYp5OTK8\",\"public_reports_future_backtest_data_rm_md_report_rm_15m_bollcci震荡.md\":\"B5tLJggS\",\"public_reports_future_backtest_data_sa_md_report_sa_1d_4k法则.md\":\"DUBSxV0v\",\"readme.md\":\"iYUHVd_-\",\"strategy_square_index.md\":\"CIJAT43M\",\"strategy_square_indicator_desc_chart_desc.md\":\"Bl-wQpUV\",\"strategy_square_indicator_desc_index.md\":\"DfbJCjj5\",\"strategy_square_indicator_desc_indicator_desc_full.md\":\"BIj4miQB\",\"strategy_square_indicator_desc_model_score.md\":\"DApd9SkU\",\"strategy_square_strategy_detail.md\":\"CR08WCd8\",\"team.md\":\"DrwJJW9a\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"专业投机策略\",\"description\":\"迎接新的时代\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":false,\"themeConfig\":{\"logo\":\"/logo.svg\",\"lastUpdated\":{\"text\":\"最近更新\"},\"outline\":{\"label\":\"本页目录\",\"level\":[2,3]},\"search\":{\"provider\":\"local\",\"options\":{\"translations\":{\"button\":{\"buttonText\":\"搜索\",\"buttonAriaLabel\":\"搜索\"},\"modal\":{\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\",\"closeText\":\"关闭\"}}}}},\"docFooter\":{\"prev\":\"上一页\",\"next\":\"下一页\"},\"footer\":{\"copyright\":\"Copyright © 2025-present \"},\"socialLinks\":[{\"icon\":\"tiktok\",\"link\":\"https://www.douyin.com/user/MS4wLjABAAAAVb-2dWdStZkPrNrzAGkHhhquMun5zaNAUsNPN166PCA\"},{\"icon\":\"bilibili\",\"link\":\"https://space.bilibili.com/485926738\"},{\"icon\":\"wechat\",\"link\":\"https://mp.weixin.qq.com/s/ZygbW2MwCtUQfEvXqYS1vA\"}],\"nav\":[{\"text\":\"策略广场\",\"link\":\"/strategy_square/\",\"activeMatch\":\"/strategy_square/\"},{\"text\":\"外盘策略\",\"items\":[{\"text\":\"趋势跟踪\",\"link\":\"/mt5_strategy/trend_follow/\"},{\"text\":\"马丁格尔\",\"link\":\"/mt5_strategy/martingale/\"},{\"text\":\"高频交易\",\"link\":\"/mt5_strategy/frequency_trading/\"}]},{\"text\":\"MT5编辑器\",\"items\":[{\"text\":\"欢迎来到算法交易\",\"link\":\"/metaeditor/welcome/\"},{\"text\":\"主菜单\",\"link\":\"/metaeditor/main_menu/\"},{\"text\":\"工具栏\",\"link\":\"/metaeditor/toolbar/\"},{\"text\":\"工作区\",\"link\":\"/metaeditor/workspace/\"},{\"text\":\"MQL5存储\",\"link\":\"/metaeditor/mql5storage/\"},{\"text\":\"MQL4/MQL5 向导\",\"link\":\"/metaeditor/mql5_wizard/\"},{\"text\":\"开发程序\",\"link\":\"/metaeditor/development/\"},{\"text\":\"其它\",\"link\":\"/metaeditor/other/\"}]},{\"text\":\"MQL5快速入门\",\"items\":[{\"text\":\"初步认识\",\"link\":\"/mt5_quick_start/welcome/\"},{\"text\":\"基础语法\",\"link\":\"/mt5_quick_start/basic_grammar/\"},{\"text\":\"第一个EA\",\"link\":\"/mt5_quick_start/first_real_ea/\"},{\"text\":\"进阶知识\",\"link\":\"/mt5_quick_start/advance_konwledge/\"},{\"text\":\"经典策略\",\"link\":\"/mt5_quick_start/classic_strategy/\"},{\"text\":\"指标工具\",\"link\":\"/mt5_quick_start/indicator_tools/\"}]},{\"text\":\"MQL5官方教程\",\"items\":[{\"text\":\"开始\",\"link\":\"/mq5_programming_for_traders/welcome/\"},{\"text\":\"MQL5编程基础\",\"link\":\"/mq5_programming_for_traders/mql5_programming_fundamentals/\"},{\"text\":\"面向对象\",\"link\":\"/mq5_programming_for_traders/object_oriented_programming/\"},{\"text\":\"常用API\",\"link\":\"/mq5_programming_for_traders/common_mql5_apis/\"},{\"text\":\"在 MQL5 中创建应用程序\",\"link\":\"/mq5_programming_for_traders/creating_application_programs/\"},{\"text\":\"交易自动化\",\"link\":\"/mq5_programming_for_traders/trading_automation/\"},{\"text\":\"MQL5高级工具\",\"link\":\"/mq5_programming_for_traders/advanced_language_tools/\"}]},{\"text\":\"经典文章\",\"link\":\"/article/\",\"activeMatch\":\"/article/\"},{\"text\":\"关于我\",\"link\":\"/about/\",\"activeMatch\":\"/about/\"}],\"sidebar\":{\"/strategy_square/\":[{\"text\":\"策略广场\",\"items\":[{\"text\":\"策略列表\",\"link\":\"/strategy_square/\"}]},{\"text\":\"测试报告说明\",\"items\":[{\"text\":\"效果测试说明\",\"link\":\"/strategy_square/indicator_desc/chart_desc\"},{\"text\":\"常用指标项说明\",\"link\":\"/strategy_square/indicator_desc\"},{\"text\":\"全部指标项说明\",\"link\":\"/strategy_square/indicator_desc/indicator_desc_full\"},{\"text\":\"模型打分方法\",\"link\":\"/strategy_square/indicator_desc/model_score\"}]}],\"/mt5_strategy/\":[{\"text\":\"趋势跟踪\",\"items\":[{\"text\":\"RSI + MA\",\"link\":\"/mt5_strategy/trend_follow/\"},{\"text\":\"三重滤网\",\"link\":\"/mt5_strategy/trend_follow/triple_screen\"},{\"text\":\"ma+macd\",\"link\":\"/mt5_strategy/trend_follow/ma_macd\"}]},{\"text\":\"马丁格尔\",\"items\":[{\"text\":\"通用马丁\",\"link\":\"/mt5_strategy/martingale/\"},{\"text\":\"顺势反手马丁\",\"link\":\"/mt5_strategy/martingale/martingale_reverse\"}]},{\"text\":\"高频交易\",\"items\":[{\"text\":\"剥头皮\",\"link\":\"/mt5_strategy/frequency_trading/\"}]},{\"text\":\"价格行为\",\"items\":[{\"text\":\"双底双顶\",\"link\":\"/mt5_strategy/price_action/\"}]}],\"/future_strategy/\":[{\"collapsed\":true,\"text\":\"趋势跟踪\",\"items\":[{\"text\":\"布林线\",\"link\":\"/future_strategy/\"},{\"text\":\"MACD\",\"link\":\"/future_strategy/macd\"},{\"text\":\"指标说明\",\"link\":\"/future_strategy/indicator_desc\"}]},{\"collapsed\":true,\"text\":\"区间震荡\",\"items\":[{\"text\":\"跳空反转\",\"link\":\"/future_strategy/jump_reverse\"},{\"text\":\"MACD\",\"link\":\"/future_strategy/macd\"},{\"text\":\"指标说明\",\"link\":\"/future_strategy/indicator_desc\"}]}],\"/article/\":[{\"collapsed\":true,\"text\":\"量化\",\"items\":[{\"text\":\"梁文锋2019年演讲\",\"link\":\"/article/\"},{\"text\":\"桥水基金雷·达里奥\",\"link\":\"/article/portfolio\"},{\"text\":\"量化交易的段位\",\"link\":\"/article/quant_rank\"},{\"text\":\"解决策略过度拟合\",\"link\":\"/article/insample_outsample\"},{\"text\":\"挂单和市价单区别\",\"link\":\"/article/market_pending\"},{\"text\":\"EA商店\",\"link\":\"/article/eastore\"},{\"text\":\"评估策略是否有盈利能力\",\"link\":\"/article/judge_strategy\"},{\"text\":\"通用策略和定制策略\",\"link\":\"/article/common_custom\"},{\"text\":\"量化成功的要点\",\"link\":\"/article/success_for_quant\"},{\"text\":\"使用走完的K线\",\"link\":\"/article/unify_price\"},{\"text\":\"实盘前的准备\",\"link\":\"/article/pre_live\"},{\"text\":\"佩里·考夫曼\",\"link\":\"/article/kaufman\"},{\"text\":\"自定义统计结果\",\"link\":\"/article/mt5_ontester\"},{\"text\":\"概率优势与随机幸运\",\"link\":\"/article/rand_probability\"},{\"text\":\"量化策略的敏捷开发\",\"link\":\"/article/agile_dev\"},{\"text\":\"净值曲线控制\",\"link\":\"/article/equity_control\"}]}],\"/metaeditor/\":[{\"collapsed\":true,\"text\":\"欢迎来到算法交易\",\"items\":[{\"text\":\"开始\",\"link\":\"/metaeditor/welcome/\"},{\"text\":\"启动\",\"link\":\"/metaeditor/welcome/open\"},{\"text\":\"设置\",\"link\":\"/metaeditor/welcome/settings\"},{\"text\":\"与其它开发环境整合\",\"link\":\"/metaeditor/welcome/integration_ide\"}]},{\"collapsed\":true,\"text\":\"主菜单\",\"items\":[{\"text\":\"摘要\",\"link\":\"/metaeditor/main_menu/\"},{\"text\":\"文件\",\"link\":\"/metaeditor/main_menu/main_menu_file\"},{\"text\":\"编辑\",\"link\":\"/metaeditor/main_menu/main_menu_edit\"},{\"text\":\"搜索\",\"link\":\"/metaeditor/main_menu/main_menu_search\"},{\"text\":\"视图\",\"link\":\"/metaeditor/main_menu/main_menu_view\"},{\"text\":\"调试\",\"link\":\"/metaeditor/main_menu/main_menu_debug\"},{\"text\":\"构建\",\"link\":\"/metaeditor/main_menu/main_menu_build\"},{\"text\":\"工具\",\"link\":\"/metaeditor/main_menu/main_menu_tools\"},{\"text\":\"窗口\",\"link\":\"/metaeditor/main_menu/main_menu_window\"},{\"text\":\"帮助\",\"link\":\"/metaeditor/main_menu/main_menu_help\"}]},{\"collapsed\":true,\"text\":\"工具栏\",\"items\":[{\"text\":\"摘要\",\"link\":\"/metaeditor/toolbar/\"},{\"text\":\"标准\",\"link\":\"/metaeditor/toolbar/toolbar_standard\"},{\"text\":\"搜索\",\"link\":\"/metaeditor/toolbar/toolbar_search\"},{\"text\":\"安装\",\"link\":\"/metaeditor/toolbar/toolbar_customize\"}]},{\"collapsed\":true,\"text\":\"工作区\",\"items\":[{\"text\":\"摘要\",\"link\":\"/metaeditor/workspace/\"},{\"text\":\"导航\",\"link\":\"/metaeditor/workspace/navigator\"},{\"text\":\"工具箱\",\"link\":\"/metaeditor/workspace/toolbox\"},{\"text\":\"状态栏\",\"link\":\"/metaeditor/workspace/status_bar\"},{\"text\":\"操作窗口\",\"link\":\"/metaeditor/workspace/source_code_windows\"},{\"text\":\"热键\",\"link\":\"/metaeditor/workspace/hotkeys\"}]},{\"collapsed\":true,\"text\":\"MQL5存储\",\"items\":[{\"text\":\"摘要\",\"link\":\"/metaeditor/mql5storage/\"},{\"text\":\"启用存储\",\"link\":\"/metaeditor/mql5storage/mql5storage_connect\"},{\"text\":\"创建并操作项目\",\"link\":\"/metaeditor/mql5storage/projects\"},{\"text\":\"操控存储\",\"link\":\"/metaeditor/mql5storage/mql5storage_working\"},{\"text\":\"查看项目历史\",\"link\":\"/metaeditor/mql5storage/mql5storage_diff\"},{\"text\":\"合并修改\",\"link\":\"/metaeditor/mql5storage/mql5storage_merging\"},{\"text\":\"外部 Subversion 客户端\",\"link\":\"/metaeditor/mql5storage/mql5storage_svn_client\"}]},{\"collapsed\":true,\"text\":\"MQL4/MQL5 向导\",\"items\":[{\"text\":\"摘要\",\"link\":\"/metaeditor/mql5_wizard/\"},{\"text\":\"创建 EA 模板\",\"link\":\"/metaeditor/mql5_wizard/wizard_ea\"},{\"text\":\"创建成品智能交易系统\",\"link\":\"/metaeditor/mql5_wizard/wizard_ea_generate\"},{\"text\":\"创建指标\",\"link\":\"/metaeditor/mql5_wizard/wizard_indicator\"},{\"text\":\"创建脚本\",\"link\":\"/metaeditor/mql5_wizard/wizard_script\"},{\"text\":\"创建函数库\",\"link\":\"/metaeditor/mql5_wizard/wizard_library\"},{\"text\":\"创建包含文件\",\"link\":\"/metaeditor/mql5_wizard/wizard_include\"},{\"text\":\"创建类\",\"link\":\"/metaeditor/mql5_wizard/wizard_class\"}]},{\"collapsed\":true,\"text\":\"开发程序\",\"items\":[{\"text\":\"摘要\",\"link\":\"/metaeditor/development/\"},{\"text\":\"智能管理\",\"link\":\"/metaeditor/development/intelligent_management\"},{\"text\":\"查找和替换\",\"link\":\"/metaeditor/development/source_code_find\"},{\"text\":\"格式化\",\"link\":\"/metaeditor/development/styler\"},{\"text\":\"编译\",\"link\":\"/metaeditor/development/compile\"},{\"text\":\"MQL5 云端保护: 为程序提供先进的保护\",\"link\":\"/metaeditor/development/mql5_cloud_protector\"},{\"text\":\"代码调试\",\"link\":\"/metaeditor/development/debug\"},{\"text\":\"代码分析\",\"link\":\"/metaeditor/development/profiling\"},{\"text\":\"AI Assistant编码助手\",\"link\":\"/metaeditor/development/ai_assistant\"},{\"text\":\"生成头文件\",\"link\":\"/metaeditor/development/generate_mqh\"},{\"text\":\"调用 C++ 的 DLL (与 MS Visual Studio 集成)\",\"link\":\"/metaeditor/development/c_dll\"},{\"text\":\"使用Python\",\"link\":\"/metaeditor/development/python\"},{\"text\":\"OpenCL 支持\",\"link\":\"/metaeditor/development/opencl\"}]},{\"collapsed\":true,\"text\":\"其它\",\"items\":[{\"text\":\"SQL数据库操作\",\"link\":\"/metaeditor/other/\"},{\"text\":\"使用机器学习模型\",\"link\":\"/metaeditor/other/machine_learning\"},{\"text\":\"程序开发示例\",\"link\":\"/metaeditor/other/project_example\"},{\"text\":\"MetaEditor 环境文件夹\",\"link\":\"/metaeditor/other/structure\"},{\"text\":\"MQL5 社区: 交易者的社区\",\"link\":\"/metaeditor/other/mql5community\"},{\"text\":\"内置帮助\",\"link\":\"/metaeditor/other/mql5_help\"},{\"text\":\"有关开发交易应用程序的文章\",\"link\":\"/metaeditor/other/article\"},{\"text\":\"交易平台指南视频\",\"link\":\"/metaeditor/other/video_guides\"}]}],\"/mq5_programming_for_traders/\":[{\"text\":\"开始\",\"items\":[{\"text\":\"大纲\",\"link\":\"/mq5_programming_for_traders/welcome/\"},{\"text\":\"简介\",\"link\":\"/mq5_programming_for_traders/welcome/introduction_to_mql5\"},{\"text\":\"编辑编译运行\",\"link\":\"/mq5_programming_for_traders/welcome/editing_compiling_running\"},{\"text\":\"MQL向导\",\"link\":\"/mq5_programming_for_traders/welcome/mql_wizard\"},{\"text\":\"语句代码块函数\",\"link\":\"/mq5_programming_for_traders/welcome/statements\"},{\"text\":\"第一个程序\",\"link\":\"/mq5_programming_for_traders/welcome/first_program\"},{\"text\":\"数据类型和值\",\"link\":\"/mq5_programming_for_traders/welcome/data_types_and_values\"},{\"text\":\"变量和标识符\",\"link\":\"/mq5_programming_for_traders/welcome/variables_and_identifiers\"},{\"text\":\"赋值和初始化\",\"link\":\"/mq5_programming_for_traders/welcome/assignment_and_initialization\"},{\"text\":\"数据输入\",\"link\":\"/mq5_programming_for_traders/welcome/data_input\"},{\"text\":\"修复错误和调试\",\"link\":\"/mq5_programming_for_traders/welcome/error_fixing_and_debugging\"},{\"text\":\"数据输出\",\"link\":\"/mq5_programming_for_traders/welcome/data_output\"},{\"text\":\"格式化\",\"link\":\"/mq5_programming_for_traders/welcome/formatting\"},{\"text\":\"迷你小结\",\"link\":\"/mq5_programming_for_traders/welcome/mini_summary\"}]},{\"text\":\"MQL5编程基础\",\"collapsed\":true,\"items\":[{\"text\":\"简介\",\"link\":\"/mq5_programming_for_traders/mql5_programming_fundamentals/\"},{\"text\":\"标识符\",\"link\":\"/mq5_programming_for_traders/mql5_programming_fundamentals/identifiers/\"},{\"text\":\"内置数据类型\",\"link\":\"/mq5_programming_for_traders/mql5_programming_fundamentals/built-in_data_types/\"},{\"text\":\"变量\",\"link\":\"/mq5_programming_for_traders/mql5_programming_fundamentals/variables/\"},{\"text\":\"数组\",\"link\":\"/mq5_programming_for_traders/mql5_programming_fundamentals/arrays/\"},{\"text\":\"表达式\",\"link\":\"/mq5_programming_for_traders/mql5_programming_fundamentals/expresssions/\"},{\"text\":\"类型转换\",\"link\":\"/mq5_programming_for_traders/mql5_programming_fundamentals/type_conversion/\"},{\"text\":\"语句\",\"link\":\"/mq5_programming_for_traders/mql5_programming_fundamentals/statements/\"},{\"text\":\"函数\",\"link\":\"/mq5_programming_for_traders/mql5_programming_fundamentals/function/\"},{\"text\":\"预处理\",\"link\":\"/mq5_programming_for_traders/mql5_programming_fundamentals/preprocessor/\"}]},{\"text\":\"面向对象\",\"collapsed\":true,\"items\":[{\"text\":\"简介\",\"link\":\"/mq5_programming_for_traders/object_oriented_programming/\"},{\"text\":\"结构体和联合体\",\"link\":\"/mq5_programming_for_traders/object_oriented_programming/structures_and_unions\"},{\"text\":\"类和接口\",\"link\":\"/mq5_programming_for_traders/object_oriented_programming/classes_and_interfaces\"},{\"text\":\"模板\",\"link\":\"/mq5_programming_for_traders/object_oriented_programming/templates\"}]},{\"text\":\"常用API\",\"collapsed\":true,\"items\":[{\"text\":\"简介\",\"link\":\"/mq5_programming_for_traders/common_mql5_apis/\"},{\"text\":\"内置类型转换\",\"link\":\"/mq5_programming_for_traders/common_mql5_apis/built-in_type_conversions\"},{\"text\":\"字符串和符号处理\",\"link\":\"/mq5_programming_for_traders/common_mql5_apis/working_with_strings_and_symbols\"},{\"text\":\"数组操作\",\"link\":\"/mq5_programming_for_traders/common_mql5_apis/working_with_arrays\"},{\"text\":\"数学函数\",\"link\":\"/mq5_programming_for_traders/common_mql5_apis/mathematical_functions\"},{\"text\":\"文件操作\",\"link\":\"/mq5_programming_for_traders/common_mql5_apis/working_with_files\"},{\"text\":\"客户端全局变量\",\"link\":\"/mq5_programming_for_traders/common_mql5_apis/client_terminal_global_variables\"},{\"text\":\"时间相关函数\",\"link\":\"/mq5_programming_for_traders/common_mql5_apis/functions_for_working_with_time\"},{\"text\":\"用户交互\",\"link\":\"/mq5_programming_for_traders/common_mql5_apis/user_interaction\"},{\"text\":\"MQL 程序执行环境\",\"link\":\"/mq5_programming_for_traders/common_mql5_apis/mql_program_execution_environment\"},{\"text\":\"矩阵和向量\",\"link\":\"/mq5_programming_for_traders/common_mql5_apis/matrices_and_vectors\"}]},{\"text\":\"在 MQL5 中创建应用程序\",\"collapsed\":true,\"items\":[{\"text\":\"简介\",\"link\":\"/mq5_programming_for_traders/creating_application_programs/\"},{\"text\":\"一般原则\",\"link\":\"/mq5_programming_for_traders/creating_application_programs/general_principles\"},{\"text\":\"脚本和服务\",\"link\":\"/mq5_programming_for_traders/creating_application_programs/script_and_services\"},{\"text\":\"时间序列\",\"link\":\"/mq5_programming_for_traders/creating_application_programs/timeseries\"},{\"text\":\"自定义指标\",\"link\":\"/mq5_programming_for_traders/creating_application_programs/creating_custom_indicators\"},{\"text\":\"自带指标\",\"link\":\"/mq5_programming_for_traders/creating_application_programs/ready-made-indicators\"},{\"text\":\"定时器的使用\",\"link\":\"/mq5_programming_for_traders/creating_application_programs/working_with_timer\"},{\"text\":\"图表操作\",\"link\":\"/mq5_programming_for_traders/creating_application_programs/working_with_charts\"},{\"text\":\"图表对象\",\"link\":\"/mq5_programming_for_traders/creating_application_programs/graphical_objects\"},{\"text\":\"图表上的交互式事件\",\"link\":\"/mq5_programming_for_traders/creating_application_programs/interactive_events_on_charts\"}]},{\"text\":\"交易自动化\",\"collapsed\":true,\"items\":[{\"text\":\"简介\",\"link\":\"/mq5_programming_for_traders/trading_automation/\"},{\"text\":\"金融工具与市场报价\",\"link\":\"/mq5_programming_for_traders/trading_automation/financial_instruments_and_market_watch\"},{\"text\":\"市场深度\",\"link\":\"/mq5_programming_for_traders/trading_automation/depth_of_market\"},{\"text\":\"交易账户信息\",\"link\":\"/mq5_programming_for_traders/trading_automation/trading_account_information\"},{\"text\":\"创建智能交易顾问\",\"link\":\"/mq5_programming_for_traders/trading_automation/createing_expert_advisors\"},{\"text\":\"专家顾问的测试和优化\",\"link\":\"/mq5_programming_for_traders/trading_automation/testing_and_optimization_of_expert_advisors\"}]},{\"text\":\"MQL5高级工具\",\"collapsed\":true,\"items\":[{\"text\":\"简介\",\"link\":\"/mq5_programming_for_traders/advanced_language_tools/\"},{\"text\":\"资源\",\"link\":\"/mq5_programming_for_traders/advanced_language_tools/resources\"},{\"text\":\"自定义交易品种\",\"link\":\"/mq5_programming_for_traders/advanced_language_tools/custom_symbol\"},{\"text\":\"经济日历\",\"link\":\"/mq5_programming_for_traders/advanced_language_tools/economic_calendar\"},{\"text\":\"密码学\",\"link\":\"/mq5_programming_for_traders/advanced_language_tools/cryptography\"},{\"text\":\"网络函数\",\"link\":\"/mq5_programming_for_traders/advanced_language_tools/network_functions\"},{\"text\":\"SQLite 数据库\",\"link\":\"/mq5_programming_for_traders/advanced_language_tools/sqlite_database\"},{\"text\":\"二进制格式库的开发与连接\",\"link\":\"/mq5_programming_for_traders/advanced_language_tools/connection_of_binary_format_libraries\"},{\"text\":\"项目\",\"link\":\"/mq5_programming_for_traders/advanced_language_tools/projects\"},{\"text\":\"原生python支持\",\"link\":\"/mq5_programming_for_traders/advanced_language_tools/native_python_support\"},{\"text\":\"opencl\",\"link\":\"/mq5_programming_for_traders/advanced_language_tools/opencl\"},{\"text\":\"总结\",\"link\":\"/mq5_programming_for_traders/advanced_language_tools/conclusion\"}]}],\"/mt5_quick_start/\":[{\"text\":\"初步认识\",\"items\":[{\"text\":\"介绍\",\"link\":\"/mt5_quick_start/welcome/\"},{\"text\":\"大纲\",\"link\":\"/mt5_quick_start/welcome/outline\"},{\"text\":\"CFD优势\",\"link\":\"/mt5_quick_start/welcome/cfd_advantage\"},{\"text\":\"认识MT5\",\"link\":\"/mt5_quick_start/welcome/mt5_indroduce\"},{\"text\":\"开发环境配置\",\"link\":\"/mt5_quick_start/welcome/mt5_ide\"}]},{\"text\":\"基础语法\",\"items\":[{\"text\":\"注释 标识符 保留字\",\"link\":\"/mt5_quick_start/basic_grammar/\"},{\"text\":\"数据类型\",\"link\":\"/mt5_quick_start/basic_grammar/data_type\"},{\"text\":\"表达式\",\"link\":\"/mt5_quick_start/basic_grammar/expression\"},{\"text\":\"EA的组成\",\"link\":\"/mt5_quick_start/basic_grammar/ea_composition\"},{\"text\":\"变量\",\"link\":\"/mt5_quick_start/basic_grammar/variable\"},{\"text\":\"控制语句\",\"link\":\"/mt5_quick_start/basic_grammar/control\"},{\"text\":\"函数\",\"link\":\"/mt5_quick_start/basic_grammar/function\"}]},{\"text\":\"第一个EA\",\"items\":[{\"text\":\"标准库 外部输入\",\"link\":\"/mt5_quick_start/first_real_ea/\"},{\"text\":\"4种资金管理方式\",\"link\":\"/mt5_quick_start/first_real_ea/risk_manage\"},{\"text\":\"指标数据\",\"link\":\"/mt5_quick_start/first_real_ea/indicator_data\"},{\"text\":\"开仓细节\",\"link\":\"/mt5_quick_start/first_real_ea/open_detail\"},{\"text\":\"完整代码\",\"link\":\"/mt5_quick_start/first_real_ea/complete_code\"}]},{\"text\":\"进阶知识\",\"items\":[{\"text\":\"常见异常\",\"link\":\"/mt5_quick_start/advance_konwledge/\"},{\"text\":\"高质量历史数据\",\"link\":\"/mt5_quick_start/advance_konwledge/high_quality_data\"},{\"text\":\"统一喂价模式\",\"link\":\"/mt5_quick_start/advance_konwledge/unify_price\"},{\"text\":\"策略组合管理\",\"link\":\"/mt5_quick_start/advance_konwledge/strategy_portfolio_manage\"},{\"text\":\"面相对象\",\"link\":\"/mt5_quick_start/advance_konwledge/oop\"},{\"text\":\"多品种EA\",\"link\":\"/mt5_quick_start/advance_konwledge/multiple_symbol_ea\"},{\"text\":\"策略优化\",\"link\":\"/mt5_quick_start/advance_konwledge/optimize\"},{\"text\":\"市场扫描\",\"link\":\"/mt5_quick_start/advance_konwledge/market_scan\"},{\"text\":\"避免过度拟合\",\"link\":\"/mt5_quick_start/advance_konwledge/avoid_overfitting\"},{\"text\":\"WFA推进分析\",\"link\":\"/mt5_quick_start/advance_konwledge/wfa\"},{\"text\":\"蒙特卡洛模拟\",\"link\":\"/mt5_quick_start/advance_konwledge/monte_carlo_simulate\"},{\"text\":\"评价函数\",\"link\":\"/mt5_quick_start/advance_konwledge/evaluation_function\"}]},{\"text\":\"经典策略\",\"items\":[{\"text\":\"高噪声震荡策略\",\"link\":\"/mt5_quick_start/classic_strategy/\"},{\"text\":\"一目均衡云\",\"link\":\"/mt5_quick_start/classic_strategy/ichimoku\"},{\"text\":\"伦敦突破\",\"link\":\"/mt5_quick_start/classic_strategy/london_break\"},{\"text\":\"三重滤网\",\"link\":\"/mt5_quick_start/classic_strategy/triple_screen\"},{\"text\":\"趋势反转\",\"link\":\"/mt5_quick_start/classic_strategy/contrarian_rsi_ma\"},{\"text\":\"风险控制\",\"link\":\"/mt5_quick_start/classic_strategy/risk_monitor\"},{\"text\":\"TD序列\",\"link\":\"/mt5_quick_start/classic_strategy/td9_trend\"},{\"text\":\"唐奇安通道\",\"link\":\"/mt5_quick_start/classic_strategy/donchian_channel\"}]},{\"text\":\"指标工具\",\"items\":[{\"text\":\"风控控制\",\"link\":\"/mt5_quick_start/indicator_tools/\"},{\"text\":\"onCalculate\",\"link\":\"/mt5_quick_start/indicator_tools/oncaclulate\"},{\"text\":\"唐奇安通道指标\",\"link\":\"/mt5_quick_start/indicator_tools/donchian_channel\"},{\"text\":\"价格密度指标\",\"link\":\"/mt5_quick_start/indicator_tools/price_intensive\"},{\"text\":\"挤压指标\",\"link\":\"/mt5_quick_start/indicator_tools/squeeze\"},{\"text\":\"乖离震荡器\",\"link\":\"/mt5_quick_start/indicator_tools/oscillator\"},{\"text\":\"全周期指标监控\",\"link\":\"/mt5_quick_start/indicator_tools/full_period_indicator_monitor\"},{\"text\":\"财经日历\",\"link\":\"/mt5_quick_start/indicator_tools/calendar\"}]}],\"/mt5_ctp/\":[{\"text\":\"零基础教程\",\"items\":[{\"text\":\"初识\",\"link\":\"/mt5_ctp/quick_start/\"},{\"text\":\"账户\",\"link\":\"/mt5_ctp/quick_start/account_info\"},{\"text\":\"持仓\",\"link\":\"/mt5_ctp/quick_start/position_info\"},{\"text\":\"开仓\",\"link\":\"/mt5_ctp/quick_start/open_position\"},{\"text\":\"平仓\",\"link\":\"/mt5_ctp/quick_start/close_position\"}]},{\"text\":\"马丁格尔\",\"items\":[{\"text\":\"通用马丁\",\"link\":\"/mt5_ctp/martingale/\"}]}]}},\"locales\":{\"root\":{\"label\":\"简体中文\"}},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>