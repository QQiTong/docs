import{_ as a}from"./chunks/mql5storage_update_icon.BBTmqgY4.js";import{_ as i,a as t,b as l}from"./chunks/mql5storage_delete_icon.8L8eQqxX.js";import{_ as s}from"./chunks/storage_enable_icon.Duhug_5g.js";import{a as r,_ as m}from"./chunks/mql5storage_journal_icon.BPiZST-q.js";import{_ as p}from"./chunks/delete_icon.Dg9Mi4oq.js";import{_ as g}from"./chunks/mql5storage_revert_icon.D1h6Vkt9.js";import{_ as c,a as d,b as _}from"./chunks/mql5storage_compare_revisions_icon.BwUS1pNe.js";import{_ as n,c as q,aI as h,o as u}from"./chunks/framework.b7dag8kZ.js";const f="/metaeditor/mql5storage_menu.png",k="/metaeditor/mql5storage_adding_folder.png",v="/metaeditor/mql5storage_added.png",o="/metaeditor/mql5storage_committing.png",M="/metaeditor/mql5storage_nochanges_icon.png",b="/metaeditor/mql5storage_updating.png",L="/metaeditor/mql5storage_update_revision.png",Q="/metaeditor/mql5storage_revert_revision.png",w="/metaeditor/mql5storage_revert_revision_icon.png",P="/metaeditor/mql5storage_changed_icon.png",x="/metaeditor/mql5storage_journal.png",T="/metaeditor/mql5storage_added_icon.png",j="/metaeditor/mql5storage_modified_icon.png",$="/metaeditor/mql5storage_deleted_icon.png",F=JSON.parse('{"title":"操控存储","description":"","frontmatter":{"head":[["link",{"rel":"canonical","href":"https://vite.dev/metaeditor/mql5storage/mql5storage_working"}],["meta",{"property":"og:title","content":"操控存储"}]]},"headers":[],"relativePath":"metaeditor/mql5storage/mql5storage_working.md","filePath":"metaeditor/mql5storage/mql5storage_working.md","lastUpdated":1744293048000}'),I={name:"metaeditor/mql5storage/mql5storage_working.md"};function E(S,e,B,C,A,N){return u(),q("div",null,e[0]||(e[0]=[h('<h1 id="操控存储" tabindex="-1">操控存储 <a class="header-anchor" href="#操控存储" aria-label="Permalink to &quot;操控存储&quot;">​</a></h1><p>MQL5 存储（或存储库）仅适用于交易平台的 MQL5（或 MQL4）文件夹，以及特殊的 hared Projects 目录，它用于 <a href="/metaeditor/mql5storage/projects#shared">组项目</a>。</p><p>所有 MQL5 存储的操作都是通过 <a href="/metaeditor/workspace/navigator">导航器</a> 窗口的关联菜单和 <a href="/metaeditor/workspace/source_code_windows">源代码编辑器</a> 的关联菜单执行的:</p><p><img src="'+f+'" alt="MQL5 存储菜单"></p><p>使用菜单命令，您可以在 MQL5 存储中执行以下操作:</p><ul><li><a href="/metaeditor/mql5storage/mql5storage_working#update">接收</a> 来自存储的数据;</li><li><a href="/metaeditor/mql5storage/mql5storage_working#commit">提交</a> 到存储;</li><li><a href="/metaeditor/mql5storage/mql5storage_working#add">添加</a> 文件/文件夹至存储;</li><li><a href="/metaeditor/mql5storage/mql5storage_working#delete">删除</a> 存储上的文件/文件夹;</li><li><a href="/metaeditor/mql5storage/mql5storage_working#revert">取消</a> 本地副本数据的更改;</li><li><a href="/metaeditor/mql5storage/mql5storage_working#journal">日志</a> 查看存储上的数据更改日志;</li><li><a href="/metaeditor/mql5storage/mql5storage_diff">查看更改</a> 当前工作的文件副本。</li></ul><h2 id="start" tabindex="-1">入手启用 <a class="header-anchor" href="#start" aria-label="Permalink to &quot;入手启用{#start}&quot;">​</a></h2><p>存储所包括的信息如同文件树。 连接到存储时，MetaEditor 用户读取和写入这些文件。 用户始终使用本地数据副本，并在必要时将更改发送到存储。</p><p>若要开始处理 MQL5 存储中的数据，您必须将本地数据文件夹与存储库中的相应文件夹相关联:</p><ul><li>如果您刚刚<a href="./mql5storage_connect">创建了一个存储库</a>，它是空的。您必须在它里面 <a href="/metaeditor/mql5storage/mql5storage_working#add">添加</a> 一个目录。 然后，存储库中一个适当的目录就会为指定目录而创建（相对/MQL5文件夹的相同路径）。这是一个根目录。所有文件操作都在这个目录中进行。</li><li>如果存储已经有一些数据，请将它们下载到本地目录。 为此，请点击<img src="'+a+'" alt="从存储更新">位于导航器中根 MQL5（或 MQL4）元素的关联菜单中的 &quot;从存储更新文件&quot;。</li></ul><p>版本化的数据存储</p><p>所实现的版本控制将目录/文件与存储库相关联，因此这样的目录/文件拥有了版本，即修订版本号。 修订版本号对应于每次数据更新。 每次更新存储库中的目录/文件时，修订版本号都会针对该目录/文件和整个根目录递增。 修订版是某个时间点目录/文件的状态。</p><p>根目录是 MQL5/MQL4 文件夹，和每个共享项目的文件夹。 修订版是针对每个根目录单独管理的，因此它们具有单独的修订版本号。 当您提交对 MQL5 目录所做的更改时，其修订版本号会增加，而项目的修订版本号不会更改（除非项目使用 MQL5 目录中的共享文件）。</p><p>一般操作方案:</p><ul><li>当您将文件添加到 MQL5 存储或将其从存储中提取到本地 PC 时，在电脑和存储中的版本（修订版号）将匹配。</li><li>本地文件（工作副本）和存储器中相应文件的修订版本号最初是相同的。 如果您只是添加了文件或从存储库中提取文件，就会发生这种情况。</li><li>如果您修改了文件并将更改提交到存储库，修订版本号将在本地和存储库中增加。</li><li>当您提交更改时，可能会发现该文件已被某人编辑，并且存储库中的修订版本号大于本地版本号。 在这种情况下，您应该在发送自己的更改之前从存储库中提取更改。 MQL5 存储将尝试把存储库和您本地的文件 <a href="./mql5storage_merging">合并修改</a>。 在这种情况下，本地文件的版本号将被设置为等于存储库中文件的版本号。</li></ul><p>每次修改业务均会记录在 <a href="/metaeditor/mql5storage/mql5storage_working#journal">存储日志</a> 当中, 稍后用户可以查看何时、由谁更改了哪些文件。 用户还可以将本地数据副本更新 <a href="/metaeditor/mql5storage/mql5storage_working#update_revision">至选定的修订版</a> 以及 <a href="/metaeditor/mql5storage/mql5storage_working#revert_revision">恢复更改</a> 至选定的修订版。</p><h2 id="add" tabindex="-1">添加到存储 <a class="header-anchor" href="#add" aria-label="Permalink to &quot;添加到存储{#add}&quot;">​</a></h2><p>要将文件夹或文件添加到存储库，请选择它并执行<img src="'+i+'" alt="添加文件或文件夹">添加文件或文件夹命令。 这会弹出一个对话框，显示要添加的文件夹和文件的列表。</p><ul><li><p>本地添加文件。若要将更改发送到存储库，请执行<img src="'+t+'" alt="提交至存储">提交到存储。</p></li><li><p>MQL5 存储只适用于以下类型的文件: mq4，mq5，mqh，cpp，h，bmp，wav，ex4，ex5，tpl 和set。 其它类型的文件不能被添加到库中。</p></li><li><p>大于 64 MB 的文件无法添加到存储中。</p></li></ul><hr><p><img src="'+k+'" alt="将该文件夹添加到存储"></p><p>勾选必要的文件和文件夹，然后单击确定。</p><ul><li>存储操作的原则是不允许添加没有所在文件夹的文件。您不能添加一个位于没有添加到存储库中的文件夹的文件。</li><li>您无法将单个文件添加到根目录 /MQL4 或 /MQL5 当中。</li><li>在与存储库关联的文件夹中，只有其子目录可以添加。层级比较低的文件夹不能在没有其父级文件夹的情况下，被添加。</li></ul><hr><p>添加的文件和文件夹进行标记<img src="'+i+'" alt="已添加到存储">用户资料的 &quot;存储&quot; 板块激活存储：</p><p><img src="'+v+'" alt="已添加的文件和文件夹"></p><p>接下来，这些变化应该被发送到存储库。选择添加的文件夹/文件并执行<img src="'+t+'" alt="提交至存储"> 提交到存储。</p><p><img src="'+o+'" alt="提交到存储"></p><p>在这个对话框中，你也可以选择应该被发送到存储库的更改。提交更改时，您可以添加评论。详细的评论会在以后有助于分析更改。</p><p>提交存储库的当前更改以后，相应的文件夹和文件被标记 <img src="'+M+'" alt="没有变化">。这意味着数据的本地副本与上次提交/更新操作时存储中的数据没有区别。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><ul><li>如果与您添加的相对应的文件夹已经存在于存储中，那么“文件夹已经存在，从存储更新它”的错误就会出现。对于这样的文件夹选择<img src="'+a+'" alt="从存储更新">从存储更新。 之后，它将被绑定到存储，并且来自存储库的数据将被添加到存储中。 然后，将您的更改发送到存储库，这要使用<img src="'+t+'" alt="提交至存储">提交到存储命令。</li><li>如果文件大小超过 1 MB，则自动从提交对话框中删除选择。 小心下载大文件以避免存储系统过载。</li></ul></div><h2 id="update" tabindex="-1">从 MQL5 存储中检出并更新 <a class="header-anchor" href="#update" aria-label="Permalink to &quot;从 MQL5 存储中检出并更新{#update}&quot;">​</a></h2><p>当 MetaEditor 中的 <a href="./mql5storage_connect">存储被激活</a> 后，执行主要数据的提取。 一旦您执行了 <img src="'+s+'" alt="激活 MQL5 存储"> 激活 MQL5 存储命令，MetaEditor 将检查存储是否包含任何数据。</p><ul><li>如果存储包含来自 MQL5（MQL4）目录的数据，这些数据将立即下载到计算机。</li><li>如果存储含有可用的共享项目，这些项目将显示在共享项目部分。 若要将项目文件下载到本地计算机，请单击<img src="'+a+'" alt="从存储更新">在项目的关联菜单中自存储更新。</li></ul><p>将来的更新可以使用<img src="'+a+'" alt="从存储更新">从存储更新位于导航器中文件和文件夹的关联菜单。</p><p>如果存储包括本地工作副本中不存在的文件夹，请在导航器窗口的 MQL5（或 MQL4）根元素处执行从存储更新。 存储中的所有数据将被下载到相应的本地文件夹。 数据的修订版本号将与存储器中的数据修订版相匹配。</p><p><img src="'+b+'" alt="更新数据"></p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>如果本地文件夹包含数据，那么检测时从存储库中获得的数据将被添加进去。新文件将被添加。对于名称和路径相匹配的文件，它会尝试<a href="./mql5storage_merging">合并数据</a>。</p></div><h2 id="update_revision" tabindex="-1">更新修订版 <a class="header-anchor" href="#update_revision" aria-label="Permalink to &quot;更新修订版{#update_revision}&quot;">​</a></h2><p>MQL5存储存储了用户提交到存储的更改的整个历史记录。每次提交更改都是一次<a href="/metaeditor/mql5storage/mql5storage_working#start">修订</a> (特定时间的存储状态)。在多个用户通过存储进行数据并行工作时，您需要定期接收由其他用户所做的更改。<img src="'+a+'" alt="更新至修订版本">更新至修订版本允许您从存储库中逐级更新本地数据副本。</p><p>例如，自上次更新数据的本地副本，三个新版本出现在存储。您可以先升级到第一次修订版，然后第二次和第三次修订版。</p><p>若要更新到特定修订版，请选择一个文件或文件夹，然后调用 <a href="/metaeditor/mql5storage/mql5storage_working#journal">存储日志</a> ，这需点击 <img src="'+r+'" alt="显示存储日志">显示存储日志。</p><p><img src="'+L+'" alt="更新修订版"></p><p>在打开的窗口中，选择所需的修订版并运行<img src="'+a+'" alt="更新至修订版本">更新至修订版本命令。</p><ul><li>数据的本地副本只能更新到更高（更新）的修订版。</li><li>从存储库中获得的数据被添加到本地副本。对于名称和路径匹配的文件，它将尝试 <a href="./mql5storage_merging">合并数据</a>。 如果文件已被添加到一个修订版，它们将被添加到本地副本。如果文件已经从修订版中删除，它们将被从本地副本删除。</li></ul><hr><h2 id="revert_revision" tabindex="-1">恢复到修订版 <a class="header-anchor" href="#revert_revision" aria-label="Permalink to &quot;恢复到修订版{#revert_revision}&quot;">​</a></h2><p>MQL5存储存储了用户提交到存储的更改的整个历史记录。每次提交更改都是一次<a href="/metaeditor/mql5storage/mql5storage_working#start">修订</a> (特定时间的存储状态)。在任何时候，您都可以返回到文件或文件夹的以前状态之一。</p><p>若要恢复到指定修订版, 选择文件或文件夹并调用 <a href="/metaeditor/mql5storage/mql5storage_working#journal">存储日志</a>，这要点击 <img src="'+r+'" alt="显示存储日志">显示存储日志。</p><p><img src="'+Q+'" alt="恢复到修订版"></p><p>在打开的窗口中，选择所需的修订版并单击<img src="'+w+'" alt="恢复到此修订版">恢复到此修订版。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>恢复到修订版之后，选择的文件/文件夹将完全返回到指定状态。您可以恢复到早期和稍晚的修订版。</p></div><h2 id="commit" tabindex="-1">将更改提交至存储 <a class="header-anchor" href="#commit" aria-label="Permalink to &quot;将更改提交至存储{#commit}&quot;">​</a></h2><p>正如前面提到的，您可以只在它们的本地副本使用数据。若要将本地更改传送到存储库，请使用<img src="'+t+'" alt="提交至存储">提交到存储命令。 已更改的本地文件和文件夹被标记使用图标<img src="'+P+'" alt="已更改"> 中的测试程序。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>在提交更改之前，您可以先 <a href="/metaeditor/mql5storage/mql5storage_diff">查看</a> 它们，只需选择文件并选择 <img src="'+m+'" alt="版本的差别">关联菜单里的版本差别</p></div><p><img src="'+o+'" alt="提交到存储"></p><p>在提交对话框中，您可以选择应提交到存储库的已更改文件和文件夹。 提交更改时，您可以添加评论。详细的评论会在未来有助于更改的分析。</p><ul><li>本地更改的优先级更高，无论如何它们都被添加到存储中。</li><li>如果存储器中的修订版本号高于本地修订版（由其它源修改，并且本地数据未从存储库更新），那么当您尝试提交更改时，您将收到错误，如 &quot;超期 (Out of date)&quot;。 在这种情况下，首先执行<img src="'+a+'" alt="从存储更新"> 从存储更新命令会 <a href="./mql5storage_merging">合并数据</a>, 然后选择 <img src="'+t+'" alt="提交至存储">提交到存储。</li><li>更新 bmp 和 wav 文件时要小心。合并后，这些文件将被新版本完全替代。 因此，在更新过程中，它们可能用存储库的文件所取代。为避免出现这种情况，请分别保存这些文件的副本，然后执行<img src="'+a+'" alt="从存储更新">从存储更新命令会增加本地修订版本号，将以前复制的文件回退并将更改提交至存储。</li></ul><h2 id="delete" tabindex="-1">删除 <a class="header-anchor" href="#delete" aria-label="Permalink to &quot;删除{#delete}&quot;">​</a></h2><p>如果您打算删除文件或文件夹，请使用命令<img src="'+l+'" alt="删除文件或文件夹">删除文件或文件夹。 文件夹/文件将被从本地数据副本删除。若要从存储库中删除文件或文件夹，请使用<img src="'+t+'" alt="提交至存储">提交到存储。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><ul><li>按标准删除文件或文件夹<img src="'+p+'" alt="删除"> 执行 <a href="/metaeditor/workspace/navigator">导航器</a> 窗口的删除命令不会影响 MQL5 存储。 伴随下一次 <a href="/metaeditor/mql5storage/mql5storage_working#update">更新</a>，删除的数据将从存储中恢复。</li><li><a href="/metaeditor/mql5storage/mql5storage_working#start">链接到存储的根目录</a> 不能被删除。</li></ul></div><h2 id="revert" tabindex="-1">恢复更改 <a class="header-anchor" href="#revert" aria-label="Permalink to &quot;恢复更改{#revert}&quot;">​</a></h2><p>如果您打算撤销在当前本地数据副本中所做的更改，请执行<img src="'+g+'" alt="恢复更改">恢复更改命令是为了必要的文件或文件夹。 文件/文件夹返回到前次与存储库同步期间本地保存的状态。</p><p>当您恢复更改时，最初的本地修订版本将被恢复，而不是存储库中的当前修订版。</p><h2 id="journal" tabindex="-1">存储日志 <a class="header-anchor" href="#journal" aria-label="Permalink to &quot;存储日志{#journal}&quot;">​</a></h2><p>每次提交更改至存储应使用<img src="'+t+'" alt="提交至存储">提交至存储命令保存在日志中。 日志可帮助您轻松地分析您的项目的变化历史。若要查看文件/文件夹的更改日志，请选择<img src="'+r+'" alt="显示存储日志">显示存储日志。</p><p><img src="'+x+'" alt="查看日志"></p><p>上半部分显示更改的列表：</p><ul><li>修订版 ― 提交的唯一编号;</li><li>作者 ― 用户的名称（与 MQL5 社区帐户的登录名相同），他们进行了这些更改;</li><li>日期 ― 提交更改的 UTC 格式日期;</li><li>注释 ― 更改注释。</li></ul><p>使用关联菜单命令<img src="'+a+'" alt="更新至修订版本"> 更新至修订版本, 您可以将本地数据副本 <a href="/metaeditor/mql5storage/mql5storage_working#update_revision">更新到选定的修订版本</a>。</p><p>窗口底部会显示选中的版本中修改过的文件的列表。图标显示的更改类型：</p><ul><li><img src="'+T+'" alt="添加的"> ― 文件已添加;</li><li><img src="'+j+'" alt="已更改"> ― 文件已更改;</li><li><img src="'+$+'" alt="删除"> ― 文件已删除。</li></ul><p>使用更改文件列表的快捷菜单，您可以分析更改：</p><ul><li><img src="'+c+'" alt="与工作副本比较"> 比较工作副本 ― 比较选定的文件和它的 <a href="/metaeditor/mql5storage/mql5storage_diff#compare_working">工作副本</a>。</li><li><img src="'+d+'" alt="与以前的修订版比较"> 与以前的修订版比较 ― 比较选定的文件和它的 <a href="/metaeditor/mql5storage/mql5storage_diff#compare_previous">之前修订版</a>。</li><li><img src="'+_+'" alt="比较修订版"> 比较修订版 ― 比较 <a href="/metaeditor/mql5storage/mql5storage_diff#compare_revisions">文件的两个修订版</a>，要在窗口顶部预先选择它们。</li></ul>',74)]))}const G=n(I,[["render",E]]);export{F as __pageData,G as default};
