import{_ as a,c as s,aI as t,o as l}from"./chunks/framework.b7dag8kZ.js";const e="/metaeditor/database_wizard.png",r="/metaeditor/database_import_table.png",p="/metaeditor/database.png",E=JSON.parse('{"title":"SQL数据库操作","description":"","frontmatter":{"head":[["link",{"rel":"canonical","href":"https://vite.dev/metaeditor/other/"}],["meta",{"property":"og:title","content":"SQL数据库操作"}]]},"headers":[],"relativePath":"metaeditor/other/index.md","filePath":"metaeditor/other/index.md","lastUpdated":1744293048000}'),h={name:"metaeditor/other/index.md"};function n(k,i,o,d,c,m){return l(),s("div",null,i[0]||(i[0]=[t('<h1 id="sql数据库操作" tabindex="-1">SQL数据库操作 <a class="header-anchor" href="#sql数据库操作" aria-label="Permalink to &quot;SQL数据库操作&quot;">​</a></h1><p>MetaEditor提供了便于数据库操作的选项。这些功能都是以流行的<a href="https://www.sqlite.org/index.html" target="_blank" rel="noreferrer">SQLite</a>引擎集成为基础而实现的。整个数据库都位于用户PC硬盘上的单个文件中。</p><p>编辑器可以访问使用数据库的主要功能，使您可以：</p><ul><li>创建并连接数据库</li><li>查看表格并执行快速数据查询</li><li>创建并执行SQL查询，回滚更改</li></ul><p>交易策略的发展与处理大量数据有关，这也是数据库广泛用于算法交易的原因。使用数据库可使您：</p><ul><li>分析交易历史和报价</li><li>保存并分析优化和测试结果</li><li>准备并与其他分析组合交换数据</li><li>存储设置和MQL5程序状态</li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>MQL5语言支持直接从程序中<a href="https://www.mql5.com/ru/docs/database" target="_blank" rel="noreferrer">使用数据库的功能</a>。了解详情，请参阅文章“<a href="https://www.mql5.com/ru/articles/7463" target="_blank" rel="noreferrer">SQLite：本地处理MQL5中的SQL数据库</a>”。</p></div><h2 id="创建数据库" tabindex="-1">创建数据库 <a class="header-anchor" href="#创建数据库" aria-label="Permalink to &quot;创建数据库&quot;">​</a></h2><p>快速数据库创建功能可从MQL5向导中获得。您可以轻松创建第一个表格并定义它的字段。</p><p><img src="'+e+'" alt="通过向导创建数据库"></p><p>以下字段类型可供使用：</p><ul><li>integer ― 整数值</li><li>real ― 分数值</li><li>text ― 字符串值</li><li>blob ― 二进制数据数组</li></ul><p>字段也可以用标识进行标记：</p><ul><li>primary ― 唯一用于识别表格内每条记录的主键。表格中只有一个字段可用作主键。此字段的值必须是唯一的。</li><li>unique ― 包含值的字段，不能重复。尝试写入已经存在的值将导致错误。您可以将此标识用于必须具有唯一值的字段。例如，可以将其设置为用于单号的字段。</li></ul><p>您还可以通过使用导航快捷菜单创建数据库：</p><ul><li>Create database（创建数据库） ― 创建选定格式的空数据库文件。默认情况下使用.db扩展名。</li><li>Create from file（创建自文件）― 基于现有*.SQL数据库创建数据库。</li></ul><p>创建数据库后，您将被重定向到相应的“导航”部分。所有数据操作均在此部分执行。</p><h2 id="import_table" tabindex="-1">导入表格 <a class="header-anchor" href="#import_table" aria-label="Permalink to &quot;导入表格{#import_table}&quot;">​</a></h2><p>您可以基于现有CSV文件在数据库中创建表格。在数据库菜单中点击“导入表格”，选择一个文件并设置以下参数：</p><ul><li>数据库中的表格名称。</li><li>自动或手动文件编码检测。</li><li>数据分隔符：逗号、分号、制表符或空格。</li><li>开始时跳过指定的行数。</li><li>评论前缀。</li><li>文件是否具有列名。如果启用此选项，则文件第一行中的值将导入为列名。</li><li>如何确定换行符：仅换行（LF，默认）或回车和换行(CRLF)字符。</li><li>数据应该添加到新表还是现有表中。</li><li>文件中哪些引号用于字符串：单引号或双引号。导入期间将删除引号。</li></ul><p><img src="'+r+'" alt="将准备好的表格导入数据库"></p><h2 id="使用数据库" tabindex="-1">使用数据库 <a class="header-anchor" href="#使用数据库" aria-label="Permalink to &quot;使用数据库&quot;">​</a></h2><p>导航为使用数据库提供一个单独的选项卡。在其快捷菜单或“文件”菜单中点击“打开”，然后选择数据库文件。相应的表格将出现在导航中。</p><p>双击表格名称，快速查询前1,000条记录。</p><p><img src="'+p+'" alt="使用数据库"></p><p>要执行数据库查询，请在编辑器的右侧输入该查询，然后点击“执行”。如果出现查询错误，相应的消息则会添加到<a href="/metaeditor/workspace/toolbox#journal">日志</a>中。创建表格的简单查询示例：</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> COMPANY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> PRIMARY KEY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> NOT NULL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NAME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TEXT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> NOT NULL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, AGE </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> NOT NULL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ADDRESS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> CHAR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), SALARY </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">REAL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>COMPANY字段包含5个字段：记录ID、名称、年龄、地址和薪资。ID字段用作密钥，即唯一索引。索引可以成为每个记录的唯一标识，可以在不同表格中使用，并将它们链接在一起。这类似于持仓ID链接与特定持仓相关的所有交易和订单的方式。</p><p>如果表格列包含自1970.01.01起以分钟（UNIX时间）、秒或微秒指定的时间数据，请左击该列，然后选择所需的格式。然后，时间将以常规格式YYYY.MM.DD hh:mm:ss显示。</p><p>要将表格另存为文件，请使用“SELECT * FROM [表格名称]”查询表格中的所有数据，然后在快捷菜单中点击“导出”。导出操作提供与<a href="#import_table">导入</a>相同的表格选项。</p>',30)]))}const u=a(h,[["render",n]]);export{E as __pageData,u as default};
