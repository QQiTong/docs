import{_ as s,c as a,ag as t,o as e}from"./chunks/framework.CCnnzLsu.js";const g=JSON.parse('{"title":"库、外部输入与Magic Number","description":"","frontmatter":{"head":[["link",{"rel":"canonical","href":"https://vite.dev/mt5_quick_start/first_real_ea/"}],["meta",{"property":"og:title","content":"库、外部输入与Magic Number"}]]},"headers":[],"relativePath":"mt5_quick_start/first_real_ea/index.md","filePath":"mt5_quick_start/first_real_ea/index.md","lastUpdated":1745411614000}'),n={name:"mt5_quick_start/first_real_ea/index.md"};function l(h,i,r,p,k,d){return e(),a("div",null,i[0]||(i[0]=[t(`<h1 id="库、外部输入与magic-number" tabindex="-1">库、外部输入与Magic Number <a class="header-anchor" href="#库、外部输入与magic-number" aria-label="Permalink to &quot;库、外部输入与Magic Number&quot;">​</a></h1><h2 id="一、加载库文件与声明库对象" tabindex="-1">一、加载库文件与声明库对象 <a class="header-anchor" href="#一、加载库文件与声明库对象" aria-label="Permalink to &quot;一、加载库文件与声明库对象&quot;">​</a></h2><p>在编写EA前，需加载MT5提供的内置库文件，这些库封装了交易、仓位、订单管理等高频使用到的功能，避免重复造轮子。</p><h3 id="_1-常用库文件" tabindex="-1">1. <strong>常用库文件</strong> <a class="header-anchor" href="#_1-常用库文件" aria-label="Permalink to &quot;1. **常用库文件**&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">#property strict</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;Trade/Trade.mqh&gt;</span></span></code></pre></div><ul><li><strong>库的作用</strong>：将复杂功能封装为可复用的类/函数，例如： <ul><li><code>CTrade</code>：提供<code>Buy()</code>/<code>Sell()</code>等开仓函数，自动处理订单参数。</li><li><code>CPositionInfo</code>：获取持仓的开仓价、止损、止盈等信息。</li><li><code>COrderInfo</code>：获取挂单的开仓价、止损、止盈等信息。</li></ul></li></ul><h3 id="_2-声明库对象" tabindex="-1">2. <strong>声明库对象</strong> <a class="header-anchor" href="#_2-声明库对象" aria-label="Permalink to &quot;2. **声明库对象**&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CTrade trade;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          // 交易对象  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CPositionInfo posInfo;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 仓位信息对象  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">COrderInfo orderInfo;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 订单信息对象</span></span></code></pre></div><h2 id="二、外部输入-参数配置与用户交互" tabindex="-1">二、外部输入：参数配置与用户交互 <a class="header-anchor" href="#二、外部输入-参数配置与用户交互" aria-label="Permalink to &quot;二、外部输入：参数配置与用户交互&quot;">​</a></h2><p>通过<code>input</code>关键字声明可配置参数，支持用户在MT5界面动态调整，分为<strong>可优化参数</strong>与<strong>固定参数</strong>。</p><h3 id="_1-参数分组-input-group" tabindex="-1">1. <strong>参数分组（input group）</strong> <a class="header-anchor" href="#_1-参数分组-input-group" aria-label="Permalink to &quot;1. **参数分组（input group）**&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// sinput 和 input的区别  sinput是不可以做参数优化的参数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">input group </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;设置参数&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sinput </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MagicNum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 12345</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // EA的唯一编号</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sinput </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SlType </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 止损方式(1:固定金额{100}美金 2:账户{1}% 3:固定{0.1}手</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                       // 4:按照子账户{10000}1%止损)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sinput </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SlParam </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 止损依据（根据上方【止损方式】的不同，所代表的含义也不同）</span></span></code></pre></div><h2 id="三、magic-number" tabindex="-1">三、Magic Number： <a class="header-anchor" href="#三、magic-number" aria-label="Permalink to &quot;三、Magic Number：&quot;">​</a></h2><h3 id="_1-核心定义" tabindex="-1">1. <strong>核心定义</strong> <a class="header-anchor" href="#_1-核心定义" aria-label="Permalink to &quot;1. **核心定义**&quot;">​</a></h3><ul><li><strong>本质</strong>：唯一整数（如<code>12345</code>），用于标识EA的专属交易，避免多策略订单混淆。</li><li><strong>作用</strong>： <ul><li><strong>订单区分</strong>：同一品种上运行多个EA时，通过魔术号筛选属于当前策略的订单。</li><li><strong>持仓管理</strong>：平仓/修改止损时，仅操作带有指定魔术号的持仓。</li></ul></li></ul>`,15)]))}const c=s(n,[["render",l]]);export{g as __pageData,c as default};
